"use strict";(self.webpackChunktextWandler=self.webpackChunktextWandler||[]).push([[9355],{59355:(e,t,i)=>{i.r(t),i.d(t,{Adapter:()=>b,CodeActionAdaptor:()=>M,DefinitionAdapter:()=>v,DiagnosticsAdapter:()=>y,DocumentHighlightAdapter:()=>x,FormatAdapter:()=>L,FormatHelper:()=>P,FormatOnTypeAdapter:()=>O,InlayHintsAdapter:()=>R,Kind:()=>A,LibFiles:()=>f,OutlineAdapter:()=>D,QuickInfoAdapter:()=>k,ReferenceAdapter:()=>C,RenameAdapter:()=>N,SignatureHelpAdapter:()=>S,SuggestAdapter:()=>w,WorkerManager:()=>g,flattenDiagnosticMessageText:()=>m,getJavaScriptWorker:()=>H,getTypeScriptWorker:()=>W,setupJavaScript:()=>E,setupTypeScript:()=>K});var s,r=i(34732),n=i(19664),o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,d=(e,t,i,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of l(t))c.call(e,r)||r===i||o(e,r,{get:()=>t[r],enumerable:!(s=a(t,r))||s.enumerable});return e},u={};d(u,r,"default"),s="object"==typeof self&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name&&void 0!==globalThis.workerttPolicy?globalThis.workerttPolicy:function(e,t){const i=globalThis.MonacoEnvironment;if(i?.createTrustedTypesPolicy)try{return i.createTrustedTypesPolicy(e,t)}catch(e){return}try{return globalThis.trustedTypes?.createPolicy(e,t)}catch(e){return}}("defaultWorkerFactory",{createScriptURL:e=>e});var g=class{constructor(e,t){this._modeId=e,this._defaults=t,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange((()=>this._stopWorker())),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange((()=>this._updateExtraLibs()))}dispose(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}async _updateExtraLibs(){if(!this._worker)return;const e=++this._updateExtraLibsToken,t=await this._worker.getProxy();this._updateExtraLibsToken===e&&t.updateExtraLibs(this._defaults.getExtraLibs())}_getClient(){return this._client||(this._client=(async()=>(this._worker=function(e){const t=Promise.resolve(function(e){const t=e.label,i=globalThis.MonacoEnvironment;if(i){if("function"==typeof i.getWorker)return i.getWorker("workerMain.js",t);if("function"==typeof i.getWorkerUrl){const e=i.getWorkerUrl("workerMain.js",t);return new Worker(s?s.createScriptURL(e):e,{name:t,type:"module"})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}({label:e.label??"monaco-editor-worker",moduleId:e.moduleId})).then((t=>(t.postMessage("ignore"),t.postMessage(e.createData),t)));return u.editor.createWebWorker({worker:t,host:e.host,keepIdleModels:e.keepIdleModels})}({moduleId:"vs/language/typescript/tsWorker",label:this._modeId,keepIdleModels:!0,createData:{compilerOptions:this._defaults.getCompilerOptions(),extraLibs:this._defaults.getExtraLibs(),customWorkerPath:this._defaults.workerOptions.customWorkerPath,inlayHintsOptions:this._defaults.inlayHintsOptions}}),this._defaults.getEagerModelSync()?await this._worker.withSyncedResources(u.editor.getModels().filter((e=>e.getLanguageId()===this._modeId)).map((e=>e.uri))):await this._worker.getProxy()))()),this._client}async getLanguageServiceWorker(...e){const t=await this._getClient();return this._worker&&await this._worker.withSyncedResources(e),t}},p={};function m(e,t,i=0){if("string"==typeof e)return e;if(void 0===e)return"";let s="";if(i){s+=t;for(let e=0;e<i;e++)s+="  "}if(s+=e.messageText,i++,e.next)for(const r of e.next)s+=m(r,t,i);return s}function h(e){return e?e.map((e=>e.text)).join(""):""}p["lib.d.ts"]=!0,p["lib.decorators.d.ts"]=!0,p["lib.decorators.legacy.d.ts"]=!0,p["lib.dom.asynciterable.d.ts"]=!0,p["lib.dom.d.ts"]=!0,p["lib.dom.iterable.d.ts"]=!0,p["lib.es2015.collection.d.ts"]=!0,p["lib.es2015.core.d.ts"]=!0,p["lib.es2015.d.ts"]=!0,p["lib.es2015.generator.d.ts"]=!0,p["lib.es2015.iterable.d.ts"]=!0,p["lib.es2015.promise.d.ts"]=!0,p["lib.es2015.proxy.d.ts"]=!0,p["lib.es2015.reflect.d.ts"]=!0,p["lib.es2015.symbol.d.ts"]=!0,p["lib.es2015.symbol.wellknown.d.ts"]=!0,p["lib.es2016.array.include.d.ts"]=!0,p["lib.es2016.d.ts"]=!0,p["lib.es2016.full.d.ts"]=!0,p["lib.es2016.intl.d.ts"]=!0,p["lib.es2017.d.ts"]=!0,p["lib.es2017.date.d.ts"]=!0,p["lib.es2017.full.d.ts"]=!0,p["lib.es2017.intl.d.ts"]=!0,p["lib.es2017.object.d.ts"]=!0,p["lib.es2017.sharedmemory.d.ts"]=!0,p["lib.es2017.string.d.ts"]=!0,p["lib.es2017.typedarrays.d.ts"]=!0,p["lib.es2018.asyncgenerator.d.ts"]=!0,p["lib.es2018.asynciterable.d.ts"]=!0,p["lib.es2018.d.ts"]=!0,p["lib.es2018.full.d.ts"]=!0,p["lib.es2018.intl.d.ts"]=!0,p["lib.es2018.promise.d.ts"]=!0,p["lib.es2018.regexp.d.ts"]=!0,p["lib.es2019.array.d.ts"]=!0,p["lib.es2019.d.ts"]=!0,p["lib.es2019.full.d.ts"]=!0,p["lib.es2019.intl.d.ts"]=!0,p["lib.es2019.object.d.ts"]=!0,p["lib.es2019.string.d.ts"]=!0,p["lib.es2019.symbol.d.ts"]=!0,p["lib.es2020.bigint.d.ts"]=!0,p["lib.es2020.d.ts"]=!0,p["lib.es2020.date.d.ts"]=!0,p["lib.es2020.full.d.ts"]=!0,p["lib.es2020.intl.d.ts"]=!0,p["lib.es2020.number.d.ts"]=!0,p["lib.es2020.promise.d.ts"]=!0,p["lib.es2020.sharedmemory.d.ts"]=!0,p["lib.es2020.string.d.ts"]=!0,p["lib.es2020.symbol.wellknown.d.ts"]=!0,p["lib.es2021.d.ts"]=!0,p["lib.es2021.full.d.ts"]=!0,p["lib.es2021.intl.d.ts"]=!0,p["lib.es2021.promise.d.ts"]=!0,p["lib.es2021.string.d.ts"]=!0,p["lib.es2021.weakref.d.ts"]=!0,p["lib.es2022.array.d.ts"]=!0,p["lib.es2022.d.ts"]=!0,p["lib.es2022.error.d.ts"]=!0,p["lib.es2022.full.d.ts"]=!0,p["lib.es2022.intl.d.ts"]=!0,p["lib.es2022.object.d.ts"]=!0,p["lib.es2022.regexp.d.ts"]=!0,p["lib.es2022.sharedmemory.d.ts"]=!0,p["lib.es2022.string.d.ts"]=!0,p["lib.es2023.array.d.ts"]=!0,p["lib.es2023.collection.d.ts"]=!0,p["lib.es2023.d.ts"]=!0,p["lib.es2023.full.d.ts"]=!0,p["lib.es5.d.ts"]=!0,p["lib.es6.d.ts"]=!0,p["lib.esnext.collection.d.ts"]=!0,p["lib.esnext.d.ts"]=!0,p["lib.esnext.decorators.d.ts"]=!0,p["lib.esnext.disposable.d.ts"]=!0,p["lib.esnext.full.d.ts"]=!0,p["lib.esnext.intl.d.ts"]=!0,p["lib.esnext.object.d.ts"]=!0,p["lib.esnext.promise.d.ts"]=!0,p["lib.scripthost.d.ts"]=!0,p["lib.webworker.asynciterable.d.ts"]=!0,p["lib.webworker.d.ts"]=!0,p["lib.webworker.importscripts.d.ts"]=!0,p["lib.webworker.iterable.d.ts"]=!0;var b=class{constructor(e){this._worker=e}_textSpanToRange(e,t){let i=e.getPositionAt(t.start),s=e.getPositionAt(t.start+t.length),{lineNumber:r,column:n}=i,{lineNumber:o,column:a}=s;return{startLineNumber:r,startColumn:n,endLineNumber:o,endColumn:a}}},f=class{constructor(e){this._worker=e,this._libFiles={},this._hasFetchedLibFiles=!1,this._fetchLibFilesPromise=null}isLibFile(e){return!!e&&0===e.path.indexOf("/lib.")&&!!p[e.path.slice(1)]}getOrCreateModel(e){const t=u.Uri.parse(e),i=u.editor.getModel(t);if(i)return i;if(this.isLibFile(t)&&this._hasFetchedLibFiles)return u.editor.createModel(this._libFiles[t.path.slice(1)],"typescript",t);const s=n.IF.getExtraLibs()[e];return s?u.editor.createModel(s.content,"typescript",t):null}_containsLibFile(e){for(let t of e)if(this.isLibFile(t))return!0;return!1}async fetchLibFilesIfNecessary(e){this._containsLibFile(e)&&await this._fetchLibFiles()}_fetchLibFiles(){return this._fetchLibFilesPromise||(this._fetchLibFilesPromise=this._worker().then((e=>e.getLibFiles())).then((e=>{this._hasFetchedLibFiles=!0,this._libFiles=e}))),this._fetchLibFilesPromise}},y=class extends b{constructor(e,t,i,s){super(s),this._libFiles=e,this._defaults=t,this._selector=i,this._disposables=[],this._listener=Object.create(null);const r=e=>{if(e.getLanguageId()!==i)return;const t=()=>{const{onlyVisible:t}=this._defaults.getDiagnosticsOptions();t?e.isAttachedToEditor()&&this._doValidate(e):this._doValidate(e)};let s;const r=e.onDidChangeContent((()=>{clearTimeout(s),s=window.setTimeout(t,500)})),n=e.onDidChangeAttached((()=>{const{onlyVisible:i}=this._defaults.getDiagnosticsOptions();i&&(e.isAttachedToEditor()?t():u.editor.setModelMarkers(e,this._selector,[]))}));this._listener[e.uri.toString()]={dispose(){r.dispose(),n.dispose(),clearTimeout(s)}},t()},n=e=>{u.editor.setModelMarkers(e,this._selector,[]);const t=e.uri.toString();this._listener[t]&&(this._listener[t].dispose(),delete this._listener[t])};this._disposables.push(u.editor.onDidCreateModel((e=>r(e)))),this._disposables.push(u.editor.onWillDisposeModel(n)),this._disposables.push(u.editor.onDidChangeModelLanguage((e=>{n(e.model),r(e.model)}))),this._disposables.push({dispose(){for(const e of u.editor.getModels())n(e)}});const o=()=>{for(const e of u.editor.getModels())n(e),r(e)};this._disposables.push(this._defaults.onDidChange(o)),this._disposables.push(this._defaults.onDidExtraLibsChange(o)),u.editor.getModels().forEach((e=>r(e)))}dispose(){this._disposables.forEach((e=>e&&e.dispose())),this._disposables=[]}async _doValidate(e){const t=await this._worker(e.uri);if(e.isDisposed())return;const i=[],{noSyntaxValidation:s,noSemanticValidation:r,noSuggestionDiagnostics:n}=this._defaults.getDiagnosticsOptions();s||i.push(t.getSyntacticDiagnostics(e.uri.toString())),r||i.push(t.getSemanticDiagnostics(e.uri.toString())),n||i.push(t.getSuggestionDiagnostics(e.uri.toString()));const o=await Promise.all(i);if(!o||e.isDisposed())return;const a=o.reduce(((e,t)=>t.concat(e)),[]).filter((e=>-1===(this._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(e.code))),l=a.map((e=>e.relatedInformation||[])).reduce(((e,t)=>t.concat(e)),[]).map((e=>e.file?u.Uri.parse(e.file.fileName):null));await this._libFiles.fetchLibFilesIfNecessary(l),e.isDisposed()||u.editor.setModelMarkers(e,this._selector,a.map((t=>this._convertDiagnostics(e,t))))}_convertDiagnostics(e,t){const i=t.start||0,s=t.length||1,{lineNumber:r,column:n}=e.getPositionAt(i),{lineNumber:o,column:a}=e.getPositionAt(i+s),l=[];return t.reportsUnnecessary&&l.push(u.MarkerTag.Unnecessary),t.reportsDeprecated&&l.push(u.MarkerTag.Deprecated),{severity:this._tsDiagnosticCategoryToMarkerSeverity(t.category),startLineNumber:r,startColumn:n,endLineNumber:o,endColumn:a,message:m(t.messageText,"\n"),code:t.code.toString(),tags:l,relatedInformation:this._convertRelatedInformation(e,t.relatedInformation)}}_convertRelatedInformation(e,t){if(!t)return[];const i=[];return t.forEach((t=>{let s=e;if(t.file&&(s=this._libFiles.getOrCreateModel(t.file.fileName)),!s)return;const r=t.start||0,n=t.length||1,{lineNumber:o,column:a}=s.getPositionAt(r),{lineNumber:l,column:c}=s.getPositionAt(r+n);i.push({resource:s.uri,startLineNumber:o,startColumn:a,endLineNumber:l,endColumn:c,message:m(t.messageText,"\n")})})),i}_tsDiagnosticCategoryToMarkerSeverity(e){switch(e){case 1:return u.MarkerSeverity.Error;case 3:return u.MarkerSeverity.Info;case 0:return u.MarkerSeverity.Warning;case 2:return u.MarkerSeverity.Hint}return u.MarkerSeverity.Info}},w=class e extends b{get triggerCharacters(){return["."]}async provideCompletionItems(t,i,s,r){const n=t.getWordUntilPosition(i),o=new u.Range(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn),a=t.uri,l=t.getOffsetAt(i),c=await this._worker(a);if(t.isDisposed())return;const d=await c.getCompletionsAtPosition(a.toString(),l);return d&&!t.isDisposed()?{suggestions:d.entries.map((s=>{let r=o;if(s.replacementSpan){const e=t.getPositionAt(s.replacementSpan.start),i=t.getPositionAt(s.replacementSpan.start+s.replacementSpan.length);r=new u.Range(e.lineNumber,e.column,i.lineNumber,i.column)}const n=[];return void 0!==s.kindModifiers&&-1!==s.kindModifiers.indexOf("deprecated")&&n.push(u.languages.CompletionItemTag.Deprecated),{uri:a,position:i,offset:l,range:r,label:s.name,insertText:s.name,sortText:s.sortText,kind:e.convertKind(s.kind),tags:n}}))}:void 0}async resolveCompletionItem(t,i){const s=t,r=s.uri,n=s.position,o=s.offset,a=await this._worker(r),l=await a.getCompletionEntryDetails(r.toString(),o,s.label);return l?{uri:r,position:n,label:l.name,kind:e.convertKind(l.kind),detail:h(l.displayParts),documentation:{value:e.createDocumentationString(l)}}:s}static convertKind(e){switch(e){case A.primitiveType:case A.keyword:return u.languages.CompletionItemKind.Keyword;case A.variable:case A.localVariable:return u.languages.CompletionItemKind.Variable;case A.memberVariable:case A.memberGetAccessor:case A.memberSetAccessor:return u.languages.CompletionItemKind.Field;case A.function:case A.memberFunction:case A.constructSignature:case A.callSignature:case A.indexSignature:return u.languages.CompletionItemKind.Function;case A.enum:return u.languages.CompletionItemKind.Enum;case A.module:return u.languages.CompletionItemKind.Module;case A.class:return u.languages.CompletionItemKind.Class;case A.interface:return u.languages.CompletionItemKind.Interface;case A.warning:return u.languages.CompletionItemKind.File}return u.languages.CompletionItemKind.Property}static createDocumentationString(e){let t=h(e.documentation);if(e.tags)for(const i of e.tags)t+=`\n\n${_(i)}`;return t}};function _(e){let t=`*@${e.name}*`;if("param"===e.name&&e.text){const[i,...s]=e.text;t+=`\`${i.text}\``,s.length>0&&(t+=` — ${s.map((e=>e.text)).join(" ")}`)}else Array.isArray(e.text)?t+=` — ${e.text.map((e=>e.text)).join(" ")}`:e.text&&(t+=` — ${e.text}`);return t}var S=class e extends b{constructor(){super(...arguments),this.signatureHelpTriggerCharacters=["(",","]}static _toSignatureHelpTriggerReason(e){switch(e.triggerKind){case u.languages.SignatureHelpTriggerKind.TriggerCharacter:return e.triggerCharacter?e.isRetrigger?{kind:"retrigger",triggerCharacter:e.triggerCharacter}:{kind:"characterTyped",triggerCharacter:e.triggerCharacter}:{kind:"invoked"};case u.languages.SignatureHelpTriggerKind.ContentChange:return e.isRetrigger?{kind:"retrigger"}:{kind:"invoked"};case u.languages.SignatureHelpTriggerKind.Invoke:default:return{kind:"invoked"}}}async provideSignatureHelp(t,i,s,r){const n=t.uri,o=t.getOffsetAt(i),a=await this._worker(n);if(t.isDisposed())return;const l=await a.getSignatureHelpItems(n.toString(),o,{triggerReason:e._toSignatureHelpTriggerReason(r)});if(!l||t.isDisposed())return;const c={activeSignature:l.selectedItemIndex,activeParameter:l.argumentIndex,signatures:[]};return l.items.forEach((e=>{const t={label:"",parameters:[]};t.documentation={value:h(e.documentation)},t.label+=h(e.prefixDisplayParts),e.parameters.forEach(((i,s,r)=>{const n=h(i.displayParts),o={label:n,documentation:{value:h(i.documentation)}};t.label+=n,t.parameters.push(o),s<r.length-1&&(t.label+=h(e.separatorDisplayParts))})),t.label+=h(e.suffixDisplayParts),c.signatures.push(t)})),{value:c,dispose(){}}}},k=class extends b{async provideHover(e,t,i){const s=e.uri,r=e.getOffsetAt(t),n=await this._worker(s);if(e.isDisposed())return;const o=await n.getQuickInfoAtPosition(s.toString(),r);if(!o||e.isDisposed())return;const a=h(o.documentation),l=o.tags?o.tags.map((e=>_(e))).join("  \n\n"):"",c=h(o.displayParts);return{range:this._textSpanToRange(e,o.textSpan),contents:[{value:"```typescript\n"+c+"\n```\n"},{value:a+(l?"\n\n"+l:"")}]}}},x=class extends b{async provideDocumentHighlights(e,t,i){const s=e.uri,r=e.getOffsetAt(t),n=await this._worker(s);if(e.isDisposed())return;const o=await n.getDocumentHighlights(s.toString(),r,[s.toString()]);return o&&!e.isDisposed()?o.flatMap((t=>t.highlightSpans.map((t=>({range:this._textSpanToRange(e,t.textSpan),kind:"writtenReference"===t.kind?u.languages.DocumentHighlightKind.Write:u.languages.DocumentHighlightKind.Text}))))):void 0}},v=class extends b{constructor(e,t){super(t),this._libFiles=e}async provideDefinition(e,t,i){const s=e.uri,r=e.getOffsetAt(t),n=await this._worker(s);if(e.isDisposed())return;const o=await n.getDefinitionAtPosition(s.toString(),r);if(!o||e.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(o.map((e=>u.Uri.parse(e.fileName)))),e.isDisposed())return;const a=[];for(let e of o){const t=this._libFiles.getOrCreateModel(e.fileName);t&&a.push({uri:t.uri,range:this._textSpanToRange(t,e.textSpan)})}return a}},C=class extends b{constructor(e,t){super(t),this._libFiles=e}async provideReferences(e,t,i,s){const r=e.uri,n=e.getOffsetAt(t),o=await this._worker(r);if(e.isDisposed())return;const a=await o.getReferencesAtPosition(r.toString(),n);if(!a||e.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(a.map((e=>u.Uri.parse(e.fileName)))),e.isDisposed())return;const l=[];for(let e of a){const t=this._libFiles.getOrCreateModel(e.fileName);t&&l.push({uri:t.uri,range:this._textSpanToRange(t,e.textSpan)})}return l}},D=class extends b{async provideDocumentSymbols(e,t){const i=e.uri,s=await this._worker(i);if(e.isDisposed())return;const r=await s.getNavigationTree(i.toString());if(!r||e.isDisposed())return;const n=(t,i)=>({name:t.text,detail:"",kind:F[t.kind]||u.languages.SymbolKind.Variable,range:this._textSpanToRange(e,t.spans[0]),selectionRange:this._textSpanToRange(e,t.spans[0]),tags:[],children:t.childItems?.map((e=>n(e,t.text))),containerName:i});return r.childItems?r.childItems.map((e=>n(e))):[]}},A=class{static{this.unknown=""}static{this.keyword="keyword"}static{this.script="script"}static{this.module="module"}static{this.class="class"}static{this.interface="interface"}static{this.type="type"}static{this.enum="enum"}static{this.variable="var"}static{this.localVariable="local var"}static{this.function="function"}static{this.localFunction="local function"}static{this.memberFunction="method"}static{this.memberGetAccessor="getter"}static{this.memberSetAccessor="setter"}static{this.memberVariable="property"}static{this.constructorImplementation="constructor"}static{this.callSignature="call"}static{this.indexSignature="index"}static{this.constructSignature="construct"}static{this.parameter="parameter"}static{this.typeParameter="type parameter"}static{this.primitiveType="primitive type"}static{this.label="label"}static{this.alias="alias"}static{this.const="const"}static{this.let="let"}static{this.warning="warning"}},F=Object.create(null);F[A.module]=u.languages.SymbolKind.Module,F[A.class]=u.languages.SymbolKind.Class,F[A.enum]=u.languages.SymbolKind.Enum,F[A.interface]=u.languages.SymbolKind.Interface,F[A.memberFunction]=u.languages.SymbolKind.Method,F[A.memberVariable]=u.languages.SymbolKind.Property,F[A.memberGetAccessor]=u.languages.SymbolKind.Property,F[A.memberSetAccessor]=u.languages.SymbolKind.Property,F[A.variable]=u.languages.SymbolKind.Variable,F[A.const]=u.languages.SymbolKind.Variable,F[A.localVariable]=u.languages.SymbolKind.Variable,F[A.variable]=u.languages.SymbolKind.Variable,F[A.function]=u.languages.SymbolKind.Function,F[A.localFunction]=u.languages.SymbolKind.Function;var I,T,P=class extends b{static _convertOptions(e){return{ConvertTabsToSpaces:e.insertSpaces,TabSize:e.tabSize,IndentSize:e.tabSize,IndentStyle:2,NewLineCharacter:"\n",InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}}_convertTextChanges(e,t){return{text:t.newText,range:this._textSpanToRange(e,t.span)}}},L=class extends P{constructor(){super(...arguments),this.canFormatMultipleRanges=!1}async provideDocumentRangeFormattingEdits(e,t,i,s){const r=e.uri,n=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),o=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),a=await this._worker(r);if(e.isDisposed())return;const l=await a.getFormattingEditsForRange(r.toString(),n,o,P._convertOptions(i));return l&&!e.isDisposed()?l.map((t=>this._convertTextChanges(e,t))):void 0}},O=class extends P{get autoFormatTriggerCharacters(){return[";","}","\n"]}async provideOnTypeFormattingEdits(e,t,i,s,r){const n=e.uri,o=e.getOffsetAt(t),a=await this._worker(n);if(e.isDisposed())return;const l=await a.getFormattingEditsAfterKeystroke(n.toString(),o,i,P._convertOptions(s));return l&&!e.isDisposed()?l.map((t=>this._convertTextChanges(e,t))):void 0}},M=class extends P{async provideCodeActions(e,t,i,s){const r=e.uri,n=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),o=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),a=P._convertOptions(e.getOptions()),l=i.markers.filter((e=>e.code)).map((e=>e.code)).map(Number),c=await this._worker(r);if(e.isDisposed())return;const d=await c.getCodeFixesAtPosition(r.toString(),n,o,l,a);return!d||e.isDisposed()?{actions:[],dispose:()=>{}}:{actions:d.filter((e=>0===e.changes.filter((e=>e.isNewFile)).length)).map((t=>this._tsCodeFixActionToMonacoCodeAction(e,i,t))),dispose:()=>{}}}_tsCodeFixActionToMonacoCodeAction(e,t,i){const s=[];for(const t of i.changes)for(const i of t.textChanges)s.push({resource:e.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(e,i.span),text:i.newText}});return{title:i.description,edit:{edits:s},diagnostics:t.markers,kind:"quickfix"}}},N=class extends b{constructor(e,t){super(t),this._libFiles=e}async provideRenameEdits(e,t,i,s){const r=e.uri,n=r.toString(),o=e.getOffsetAt(t),a=await this._worker(r);if(e.isDisposed())return;const l=await a.getRenameInfo(n,o,{allowRenameOfImportPath:!1});if(!1===l.canRename)return{edits:[],rejectReason:l.localizedErrorMessage};if(void 0!==l.fileToRename)throw new Error("Renaming files is not supported.");const c=await a.findRenameLocations(n,o,!1,!1,!1);if(!c||e.isDisposed())return;const d=[];for(const e of c){const t=this._libFiles.getOrCreateModel(e.fileName);if(!t)throw new Error(`Unknown file ${e.fileName}.`);d.push({resource:t.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(t,e.textSpan),text:i}})}return{edits:d}}},R=class extends b{async provideInlayHints(e,t,i){const s=e.uri,r=s.toString(),n=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),o=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),a=await this._worker(s);return e.isDisposed()?null:{hints:(await a.provideInlayHints(r,n,o)).map((t=>({...t,label:t.text,position:e.getPositionAt(t.position),kind:this._convertHintKind(t.kind)}))),dispose:()=>{}}}_convertHintKind(e){return"Parameter"===e?u.languages.InlayHintKind.Parameter:u.languages.InlayHintKind.Type}};function K(e){T=j(e,"typescript")}function E(e){I=j(e,"javascript")}function H(){return new Promise(((e,t)=>{if(!I)return t("JavaScript not registered!");e(I)}))}function W(){return new Promise(((e,t)=>{if(!T)return t("TypeScript not registered!");e(T)}))}function j(e,t){const i=[],s=[],r=new g(t,e);i.push(r);const n=(...e)=>r.getLanguageServiceWorker(...e),o=new f(n);return function(){const{modeConfiguration:i}=e;V(s),i.completionItems&&s.push(u.languages.registerCompletionItemProvider(t,new w(n))),i.signatureHelp&&s.push(u.languages.registerSignatureHelpProvider(t,new S(n))),i.hovers&&s.push(u.languages.registerHoverProvider(t,new k(n))),i.documentHighlights&&s.push(u.languages.registerDocumentHighlightProvider(t,new x(n))),i.definitions&&s.push(u.languages.registerDefinitionProvider(t,new v(o,n))),i.references&&s.push(u.languages.registerReferenceProvider(t,new C(o,n))),i.documentSymbols&&s.push(u.languages.registerDocumentSymbolProvider(t,new D(n))),i.rename&&s.push(u.languages.registerRenameProvider(t,new N(o,n))),i.documentRangeFormattingEdits&&s.push(u.languages.registerDocumentRangeFormattingEditProvider(t,new L(n))),i.onTypeFormattingEdits&&s.push(u.languages.registerOnTypeFormattingEditProvider(t,new O(n))),i.codeActions&&s.push(u.languages.registerCodeActionProvider(t,new M(n))),i.inlayHints&&s.push(u.languages.registerInlayHintsProvider(t,new R(n))),i.diagnostics&&s.push(new y(o,e,t,n))}(),i.push(function(e){return{dispose:()=>V(e)}}(s)),n}function V(e){for(;e.length;)e.pop().dispose()}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cEJ2QixFQUFVaFMsS0FDUnBKLEVBQTJCMk4sVUFBVWlQLDJCQUEyQjFCLEVBQVEsSUFBSXBELEVBQWtCelYsS0FHOUZnWixFQUFrQndCLFlBQ3BCekIsRUFBVWhTLEtBQ1JwSixFQUEyQjJOLFVBQVVtUCwyQkFBMkI1QixFQUFRLElBQUlmLEVBQWtCOVgsS0FHOUZnWixFQUFrQi9RLGFBQ3BCOFEsRUFBVWhTLEtBQUssSUFBSXZCLEVBQW1CRCxFQUFVZ1QsRUFBVU0sRUFBUTdZLEdBRXRFLENBQ0EwYSxHQUNBNUIsRUFBWS9SLEtBR2QsU0FBc0IrUixHQUNwQixNQUFPLENBQUV0WixRQUFTLElBQU15WixFQUFXSCxHQUNyQyxDQUxtQjZCLENBQWE1QixJQUN2Qi9ZLENBQ1QsQ0FJQSxTQUFTaVosRUFBV0gsR0FDbEIsS0FBT0EsRUFBWW5WLFFBQ2pCbVYsRUFBWThCLE1BQU1wYixTQUV0QixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV4dFdhbmRsZXIvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvdHlwZXNjcmlwdC90c01vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVmVyc2lvbjogMC41My4wKDRlNDViYTBjNWZmNDVmYzYxYzBjY2FjNjFjMDk4NzM2OWRmMDRhNmUpXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvbW9uYWNvLWVkaXRvci9ibG9iL21haW4vTElDRU5TRS50eHRcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7XG4gIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgX19nZXRPd25Qcm9wTmFtZXMoZnJvbSkpXG4gICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KVxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb21ba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhmcm9tLCBrZXkpKSB8fCBkZXNjLmVudW1lcmFibGUgfSk7XG4gIH1cbiAgcmV0dXJuIHRvO1xufTtcbnZhciBfX3JlRXhwb3J0ID0gKHRhcmdldCwgbW9kLCBzZWNvbmRUYXJnZXQpID0+IChfX2NvcHlQcm9wcyh0YXJnZXQsIG1vZCwgXCJkZWZhdWx0XCIpLCBzZWNvbmRUYXJnZXQgJiYgX19jb3B5UHJvcHMoc2Vjb25kVGFyZ2V0LCBtb2QsIFwiZGVmYXVsdFwiKSk7XG5cbi8vIHNyYy9maWxsZXJzL21vbmFjby1lZGl0b3ItY29yZS50c1xudmFyIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzID0ge307XG5fX3JlRXhwb3J0KG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLCBtb25hY29fZWRpdG9yX2NvcmVfc3Rhcik7XG5pbXBvcnQgKiBhcyBtb25hY29fZWRpdG9yX2NvcmVfc3RhciBmcm9tIFwiLi4vLi4vZWRpdG9yL2VkaXRvci5hcGkuanNcIjtcblxuLy8gc3JjL2NvbW1vbi93b3JrZXJzLnRzXG5mdW5jdGlvbiBjcmVhdGVUcnVzdGVkVHlwZXNQb2xpY3kocG9saWN5TmFtZSwgcG9saWN5T3B0aW9ucykge1xuICBjb25zdCBtb25hY29FbnZpcm9ubWVudCA9IGdsb2JhbFRoaXMuTW9uYWNvRW52aXJvbm1lbnQ7XG4gIGlmIChtb25hY29FbnZpcm9ubWVudD8uY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBtb25hY29FbnZpcm9ubWVudC5jcmVhdGVUcnVzdGVkVHlwZXNQb2xpY3kocG9saWN5TmFtZSwgcG9saWN5T3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBnbG9iYWxUaGlzLnRydXN0ZWRUeXBlcz8uY3JlYXRlUG9saWN5KHBvbGljeU5hbWUsIHBvbGljeU9wdGlvbnMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxufVxudmFyIHR0UG9saWN5O1xuaWYgKHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiICYmIHNlbGYuY29uc3RydWN0b3IgJiYgc2VsZi5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkRlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXCIgJiYgZ2xvYmFsVGhpcy53b3JrZXJ0dFBvbGljeSAhPT0gdm9pZCAwKSB7XG4gIHR0UG9saWN5ID0gZ2xvYmFsVGhpcy53b3JrZXJ0dFBvbGljeTtcbn0gZWxzZSB7XG4gIHR0UG9saWN5ID0gY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5KFwiZGVmYXVsdFdvcmtlckZhY3RvcnlcIiwge1xuICAgIGNyZWF0ZVNjcmlwdFVSTDogKHZhbHVlKSA9PiB2YWx1ZVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFdvcmtlcihkZXNjcmlwdG9yKSB7XG4gIGNvbnN0IGxhYmVsID0gZGVzY3JpcHRvci5sYWJlbDtcbiAgY29uc3QgbW9uYWNvRW52aXJvbm1lbnQgPSBnbG9iYWxUaGlzLk1vbmFjb0Vudmlyb25tZW50O1xuICBpZiAobW9uYWNvRW52aXJvbm1lbnQpIHtcbiAgICBpZiAodHlwZW9mIG1vbmFjb0Vudmlyb25tZW50LmdldFdvcmtlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gbW9uYWNvRW52aXJvbm1lbnQuZ2V0V29ya2VyKFwid29ya2VyTWFpbi5qc1wiLCBsYWJlbCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbW9uYWNvRW52aXJvbm1lbnQuZ2V0V29ya2VyVXJsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNvbnN0IHdvcmtlclVybCA9IG1vbmFjb0Vudmlyb25tZW50LmdldFdvcmtlclVybChcIndvcmtlck1haW4uanNcIiwgbGFiZWwpO1xuICAgICAgcmV0dXJuIG5ldyBXb3JrZXIoXG4gICAgICAgIHR0UG9saWN5ID8gdHRQb2xpY3kuY3JlYXRlU2NyaXB0VVJMKHdvcmtlclVybCkgOiB3b3JrZXJVcmwsXG4gICAgICAgIHsgbmFtZTogbGFiZWwsIHR5cGU6IFwibW9kdWxlXCIgfVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgIGBZb3UgbXVzdCBkZWZpbmUgYSBmdW5jdGlvbiBNb25hY29FbnZpcm9ubWVudC5nZXRXb3JrZXJVcmwgb3IgTW9uYWNvRW52aXJvbm1lbnQuZ2V0V29ya2VyYFxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlV2ViV29ya2VyKG9wdHMpIHtcbiAgY29uc3Qgd29ya2VyID0gUHJvbWlzZS5yZXNvbHZlKFxuICAgIGdldFdvcmtlcih7XG4gICAgICBsYWJlbDogb3B0cy5sYWJlbCA/PyBcIm1vbmFjby1lZGl0b3Itd29ya2VyXCIsXG4gICAgICBtb2R1bGVJZDogb3B0cy5tb2R1bGVJZFxuICAgIH0pXG4gICkudGhlbigodykgPT4ge1xuICAgIHcucG9zdE1lc3NhZ2UoXCJpZ25vcmVcIik7XG4gICAgdy5wb3N0TWVzc2FnZShvcHRzLmNyZWF0ZURhdGEpO1xuICAgIHJldHVybiB3O1xuICB9KTtcbiAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5jcmVhdGVXZWJXb3JrZXIoe1xuICAgIHdvcmtlcixcbiAgICBob3N0OiBvcHRzLmhvc3QsXG4gICAga2VlcElkbGVNb2RlbHM6IG9wdHMua2VlcElkbGVNb2RlbHNcbiAgfSk7XG59XG5cbi8vIHNyYy9sYW5ndWFnZS90eXBlc2NyaXB0L3dvcmtlck1hbmFnZXIudHNcbnZhciBXb3JrZXJNYW5hZ2VyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihfbW9kZUlkLCBfZGVmYXVsdHMpIHtcbiAgICB0aGlzLl9tb2RlSWQgPSBfbW9kZUlkO1xuICAgIHRoaXMuX2RlZmF1bHRzID0gX2RlZmF1bHRzO1xuICAgIHRoaXMuX3dvcmtlciA9IG51bGw7XG4gICAgdGhpcy5fY2xpZW50ID0gbnVsbDtcbiAgICB0aGlzLl9jb25maWdDaGFuZ2VMaXN0ZW5lciA9IHRoaXMuX2RlZmF1bHRzLm9uRGlkQ2hhbmdlKCgpID0+IHRoaXMuX3N0b3BXb3JrZXIoKSk7XG4gICAgdGhpcy5fdXBkYXRlRXh0cmFMaWJzVG9rZW4gPSAwO1xuICAgIHRoaXMuX2V4dHJhTGlic0NoYW5nZUxpc3RlbmVyID0gdGhpcy5fZGVmYXVsdHMub25EaWRFeHRyYUxpYnNDaGFuZ2UoXG4gICAgICAoKSA9PiB0aGlzLl91cGRhdGVFeHRyYUxpYnMoKVxuICAgICk7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLl9jb25maWdDaGFuZ2VMaXN0ZW5lci5kaXNwb3NlKCk7XG4gICAgdGhpcy5fZXh0cmFMaWJzQ2hhbmdlTGlzdGVuZXIuZGlzcG9zZSgpO1xuICAgIHRoaXMuX3N0b3BXb3JrZXIoKTtcbiAgfVxuICBfc3RvcFdvcmtlcigpIHtcbiAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICB0aGlzLl93b3JrZXIuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5fd29ya2VyID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5fY2xpZW50ID0gbnVsbDtcbiAgfVxuICBhc3luYyBfdXBkYXRlRXh0cmFMaWJzKCkge1xuICAgIGlmICghdGhpcy5fd29ya2VyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG15VG9rZW4gPSArK3RoaXMuX3VwZGF0ZUV4dHJhTGlic1Rva2VuO1xuICAgIGNvbnN0IHByb3h5ID0gYXdhaXQgdGhpcy5fd29ya2VyLmdldFByb3h5KCk7XG4gICAgaWYgKHRoaXMuX3VwZGF0ZUV4dHJhTGlic1Rva2VuICE9PSBteVRva2VuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb3h5LnVwZGF0ZUV4dHJhTGlicyh0aGlzLl9kZWZhdWx0cy5nZXRFeHRyYUxpYnMoKSk7XG4gIH1cbiAgX2dldENsaWVudCgpIHtcbiAgICBpZiAoIXRoaXMuX2NsaWVudCkge1xuICAgICAgdGhpcy5fY2xpZW50ID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5fd29ya2VyID0gY3JlYXRlV2ViV29ya2VyKHtcbiAgICAgICAgICAvLyBtb2R1bGUgdGhhdCBleHBvcnRzIHRoZSBjcmVhdGUoKSBtZXRob2QgYW5kIHJldHVybnMgYSBgVHlwZVNjcmlwdFdvcmtlcmAgaW5zdGFuY2VcbiAgICAgICAgICBtb2R1bGVJZDogXCJ2cy9sYW5ndWFnZS90eXBlc2NyaXB0L3RzV29ya2VyXCIsXG4gICAgICAgICAgbGFiZWw6IHRoaXMuX21vZGVJZCxcbiAgICAgICAgICBrZWVwSWRsZU1vZGVsczogdHJ1ZSxcbiAgICAgICAgICAvLyBwYXNzZWQgaW4gdG8gdGhlIGNyZWF0ZSgpIG1ldGhvZFxuICAgICAgICAgIGNyZWF0ZURhdGE6IHtcbiAgICAgICAgICAgIGNvbXBpbGVyT3B0aW9uczogdGhpcy5fZGVmYXVsdHMuZ2V0Q29tcGlsZXJPcHRpb25zKCksXG4gICAgICAgICAgICBleHRyYUxpYnM6IHRoaXMuX2RlZmF1bHRzLmdldEV4dHJhTGlicygpLFxuICAgICAgICAgICAgY3VzdG9tV29ya2VyUGF0aDogdGhpcy5fZGVmYXVsdHMud29ya2VyT3B0aW9ucy5jdXN0b21Xb3JrZXJQYXRoLFxuICAgICAgICAgICAgaW5sYXlIaW50c09wdGlvbnM6IHRoaXMuX2RlZmF1bHRzLmlubGF5SGludHNPcHRpb25zXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuX2RlZmF1bHRzLmdldEVhZ2VyTW9kZWxTeW5jKCkpIHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fd29ya2VyLndpdGhTeW5jZWRSZXNvdXJjZXMoXG4gICAgICAgICAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuZ2V0TW9kZWxzKCkuZmlsdGVyKChtb2RlbCkgPT4gbW9kZWwuZ2V0TGFuZ3VhZ2VJZCgpID09PSB0aGlzLl9tb2RlSWQpLm1hcCgobW9kZWwpID0+IG1vZGVsLnVyaSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl93b3JrZXIuZ2V0UHJveHkoKTtcbiAgICAgIH0pKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQ7XG4gIH1cbiAgYXN5bmMgZ2V0TGFuZ3VhZ2VTZXJ2aWNlV29ya2VyKC4uLnJlc291cmNlcykge1xuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMuX2dldENsaWVudCgpO1xuICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgIGF3YWl0IHRoaXMuX3dvcmtlci53aXRoU3luY2VkUmVzb3VyY2VzKHJlc291cmNlcyk7XG4gICAgfVxuICAgIHJldHVybiBjbGllbnQ7XG4gIH1cbn07XG5cbi8vIHNyYy9sYW5ndWFnZS90eXBlc2NyaXB0L2xhbmd1YWdlRmVhdHVyZXMudHNcbmltcG9ydCB7XG4gIHR5cGVzY3JpcHREZWZhdWx0c1xufSBmcm9tIFwiLi9tb25hY28uY29udHJpYnV0aW9uLmpzXCI7XG5cbi8vIHNyYy9sYW5ndWFnZS90eXBlc2NyaXB0L2xpYi9saWIuaW5kZXgudHNcbnZhciBsaWJGaWxlU2V0ID0ge307XG5saWJGaWxlU2V0W1wibGliLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5kZWNvcmF0b3JzLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5kZWNvcmF0b3JzLmxlZ2FjeS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZG9tLmFzeW5jaXRlcmFibGUuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmRvbS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZG9tLml0ZXJhYmxlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTUuY29sbGVjdGlvbi5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LmNvcmUuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LmdlbmVyYXRvci5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1Lml0ZXJhYmxlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTUucHJvbWlzZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LnByb3h5LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTUucmVmbGVjdC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LnN5bWJvbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LnN5bWJvbC53ZWxsa25vd24uZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNi5hcnJheS5pbmNsdWRlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTYuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNi5mdWxsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTYuaW50bC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE3LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTcuZGF0ZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE3LmZ1bGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNy5pbnRsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTcub2JqZWN0LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTcuc2hhcmVkbWVtb3J5LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTcuc3RyaW5nLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTcudHlwZWRhcnJheXMuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOC5hc3luY2dlbmVyYXRvci5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE4LmFzeW5jaXRlcmFibGUuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE4LmZ1bGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOC5pbnRsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTgucHJvbWlzZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE4LnJlZ2V4cC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5LmFycmF5LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTkuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOS5mdWxsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTkuaW50bC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5Lm9iamVjdC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5LnN0cmluZy5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5LnN5bWJvbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLmJpZ2ludC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAuZGF0ZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLmZ1bGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAyMC5pbnRsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAubnVtYmVyLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAucHJvbWlzZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLnNoYXJlZG1lbW9yeS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLnN0cmluZy5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLnN5bWJvbC53ZWxsa25vd24uZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAyMS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIxLmZ1bGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAyMS5pbnRsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjEucHJvbWlzZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIxLnN0cmluZy5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIxLndlYWtyZWYuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAyMi5hcnJheS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIyLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjIuZXJyb3IuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAyMi5mdWxsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjIuaW50bC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIyLm9iamVjdC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIyLnJlZ2V4cC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIyLnNoYXJlZG1lbW9yeS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIyLnN0cmluZy5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIzLmFycmF5LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjMuY29sbGVjdGlvbi5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIzLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjMuZnVsbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXM1LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczYuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzbmV4dC5jb2xsZWN0aW9uLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lc25leHQuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzbmV4dC5kZWNvcmF0b3JzLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lc25leHQuZGlzcG9zYWJsZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXNuZXh0LmZ1bGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzbmV4dC5pbnRsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lc25leHQub2JqZWN0LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lc25leHQucHJvbWlzZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuc2NyaXB0aG9zdC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIud2Vid29ya2VyLmFzeW5jaXRlcmFibGUuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLndlYndvcmtlci5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIud2Vid29ya2VyLmltcG9ydHNjcmlwdHMuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLndlYndvcmtlci5pdGVyYWJsZS5kLnRzXCJdID0gdHJ1ZTtcblxuLy8gc3JjL2xhbmd1YWdlL3R5cGVzY3JpcHQvbGFuZ3VhZ2VGZWF0dXJlcy50c1xuZnVuY3Rpb24gZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dChkaWFnLCBuZXdMaW5lLCBpbmRlbnQgPSAwKSB7XG4gIGlmICh0eXBlb2YgZGlhZyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBkaWFnO1xuICB9IGVsc2UgaWYgKGRpYWcgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBpZiAoaW5kZW50KSB7XG4gICAgcmVzdWx0ICs9IG5ld0xpbmU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRlbnQ7IGkrKykge1xuICAgICAgcmVzdWx0ICs9IFwiICBcIjtcbiAgICB9XG4gIH1cbiAgcmVzdWx0ICs9IGRpYWcubWVzc2FnZVRleHQ7XG4gIGluZGVudCsrO1xuICBpZiAoZGlhZy5uZXh0KSB7XG4gICAgZm9yIChjb25zdCBraWQgb2YgZGlhZy5uZXh0KSB7XG4gICAgICByZXN1bHQgKz0gZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dChraWQsIG5ld0xpbmUsIGluZGVudCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBkaXNwbGF5UGFydHNUb1N0cmluZyhkaXNwbGF5UGFydHMpIHtcbiAgaWYgKGRpc3BsYXlQYXJ0cykge1xuICAgIHJldHVybiBkaXNwbGF5UGFydHMubWFwKChkaXNwbGF5UGFydCkgPT4gZGlzcGxheVBhcnQudGV4dCkuam9pbihcIlwiKTtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbnZhciBBZGFwdGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihfd29ya2VyKSB7XG4gICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcbiAgfVxuICAvLyBwcm90ZWN0ZWQgX3Bvc2l0aW9uVG9PZmZzZXQobW9kZWw6IGVkaXRvci5JVGV4dE1vZGVsLCBwb3NpdGlvbjogbW9uYWNvLklQb3NpdGlvbik6IG51bWJlciB7XG4gIC8vIFx0cmV0dXJuIG1vZGVsLmdldE9mZnNldEF0KHBvc2l0aW9uKTtcbiAgLy8gfVxuICAvLyBwcm90ZWN0ZWQgX29mZnNldFRvUG9zaXRpb24obW9kZWw6IGVkaXRvci5JVGV4dE1vZGVsLCBvZmZzZXQ6IG51bWJlcik6IG1vbmFjby5JUG9zaXRpb24ge1xuICAvLyBcdHJldHVybiBtb2RlbC5nZXRQb3NpdGlvbkF0KG9mZnNldCk7XG4gIC8vIH1cbiAgX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgc3Bhbikge1xuICAgIGxldCBwMSA9IG1vZGVsLmdldFBvc2l0aW9uQXQoc3Bhbi5zdGFydCk7XG4gICAgbGV0IHAyID0gbW9kZWwuZ2V0UG9zaXRpb25BdChzcGFuLnN0YXJ0ICsgc3Bhbi5sZW5ndGgpO1xuICAgIGxldCB7IGxpbmVOdW1iZXI6IHN0YXJ0TGluZU51bWJlciwgY29sdW1uOiBzdGFydENvbHVtbiB9ID0gcDE7XG4gICAgbGV0IHsgbGluZU51bWJlcjogZW5kTGluZU51bWJlciwgY29sdW1uOiBlbmRDb2x1bW4gfSA9IHAyO1xuICAgIHJldHVybiB7IHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiB9O1xuICB9XG59O1xudmFyIExpYkZpbGVzID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihfd29ya2VyKSB7XG4gICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcbiAgICB0aGlzLl9saWJGaWxlcyA9IHt9O1xuICAgIHRoaXMuX2hhc0ZldGNoZWRMaWJGaWxlcyA9IGZhbHNlO1xuICAgIHRoaXMuX2ZldGNoTGliRmlsZXNQcm9taXNlID0gbnVsbDtcbiAgfVxuICBpc0xpYkZpbGUodXJpKSB7XG4gICAgaWYgKCF1cmkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHVyaS5wYXRoLmluZGV4T2YoXCIvbGliLlwiKSA9PT0gMCkge1xuICAgICAgcmV0dXJuICEhbGliRmlsZVNldFt1cmkucGF0aC5zbGljZSgxKV07XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBnZXRPckNyZWF0ZU1vZGVsKGZpbGVOYW1lKSB7XG4gICAgY29uc3QgdXJpID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuVXJpLnBhcnNlKGZpbGVOYW1lKTtcbiAgICBjb25zdCBtb2RlbCA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5nZXRNb2RlbCh1cmkpO1xuICAgIGlmIChtb2RlbCkge1xuICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0xpYkZpbGUodXJpKSAmJiB0aGlzLl9oYXNGZXRjaGVkTGliRmlsZXMpIHtcbiAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuY3JlYXRlTW9kZWwodGhpcy5fbGliRmlsZXNbdXJpLnBhdGguc2xpY2UoMSldLCBcInR5cGVzY3JpcHRcIiwgdXJpKTtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2hlZExpYkZpbGUgPSB0eXBlc2NyaXB0RGVmYXVsdHMuZ2V0RXh0cmFMaWJzKClbZmlsZU5hbWVdO1xuICAgIGlmIChtYXRjaGVkTGliRmlsZSkge1xuICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5jcmVhdGVNb2RlbChtYXRjaGVkTGliRmlsZS5jb250ZW50LCBcInR5cGVzY3JpcHRcIiwgdXJpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgX2NvbnRhaW5zTGliRmlsZSh1cmlzKSB7XG4gICAgZm9yIChsZXQgdXJpIG9mIHVyaXMpIHtcbiAgICAgIGlmICh0aGlzLmlzTGliRmlsZSh1cmkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZmV0Y2hMaWJGaWxlc0lmTmVjZXNzYXJ5KHVyaXMpIHtcbiAgICBpZiAoIXRoaXMuX2NvbnRhaW5zTGliRmlsZSh1cmlzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLl9mZXRjaExpYkZpbGVzKCk7XG4gIH1cbiAgX2ZldGNoTGliRmlsZXMoKSB7XG4gICAgaWYgKCF0aGlzLl9mZXRjaExpYkZpbGVzUHJvbWlzZSkge1xuICAgICAgdGhpcy5fZmV0Y2hMaWJGaWxlc1Byb21pc2UgPSB0aGlzLl93b3JrZXIoKS50aGVuKCh3KSA9PiB3LmdldExpYkZpbGVzKCkpLnRoZW4oKGxpYkZpbGVzKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhc0ZldGNoZWRMaWJGaWxlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuX2xpYkZpbGVzID0gbGliRmlsZXM7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2ZldGNoTGliRmlsZXNQcm9taXNlO1xuICB9XG59O1xudmFyIERpYWdub3N0aWNzQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKF9saWJGaWxlcywgX2RlZmF1bHRzLCBfc2VsZWN0b3IsIHdvcmtlcikge1xuICAgIHN1cGVyKHdvcmtlcik7XG4gICAgdGhpcy5fbGliRmlsZXMgPSBfbGliRmlsZXM7XG4gICAgdGhpcy5fZGVmYXVsdHMgPSBfZGVmYXVsdHM7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBfc2VsZWN0b3I7XG4gICAgdGhpcy5fZGlzcG9zYWJsZXMgPSBbXTtcbiAgICB0aGlzLl9saXN0ZW5lciA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGNvbnN0IG9uTW9kZWxBZGQgPSAobW9kZWwpID0+IHtcbiAgICAgIGlmIChtb2RlbC5nZXRMYW5ndWFnZUlkKCkgIT09IF9zZWxlY3Rvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBtYXliZVZhbGlkYXRlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB7IG9ubHlWaXNpYmxlIH0gPSB0aGlzLl9kZWZhdWx0cy5nZXREaWFnbm9zdGljc09wdGlvbnMoKTtcbiAgICAgICAgaWYgKG9ubHlWaXNpYmxlKSB7XG4gICAgICAgICAgaWYgKG1vZGVsLmlzQXR0YWNoZWRUb0VkaXRvcigpKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1ZhbGlkYXRlKG1vZGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fZG9WYWxpZGF0ZShtb2RlbCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBsZXQgaGFuZGxlO1xuICAgICAgY29uc3QgY2hhbmdlU3Vic2NyaXB0aW9uID0gbW9kZWwub25EaWRDaGFuZ2VDb250ZW50KCgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICAgIGhhbmRsZSA9IHdpbmRvdy5zZXRUaW1lb3V0KG1heWJlVmFsaWRhdGUsIDUwMCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHZpc2libGVTdWJzY3JpcHRpb24gPSBtb2RlbC5vbkRpZENoYW5nZUF0dGFjaGVkKCgpID0+IHtcbiAgICAgICAgY29uc3QgeyBvbmx5VmlzaWJsZSB9ID0gdGhpcy5fZGVmYXVsdHMuZ2V0RGlhZ25vc3RpY3NPcHRpb25zKCk7XG4gICAgICAgIGlmIChvbmx5VmlzaWJsZSkge1xuICAgICAgICAgIGlmIChtb2RlbC5pc0F0dGFjaGVkVG9FZGl0b3IoKSkge1xuICAgICAgICAgICAgbWF5YmVWYWxpZGF0ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3Iuc2V0TW9kZWxNYXJrZXJzKG1vZGVsLCB0aGlzLl9zZWxlY3RvciwgW10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLl9saXN0ZW5lclttb2RlbC51cmkudG9TdHJpbmcoKV0gPSB7XG4gICAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgY2hhbmdlU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICB2aXNpYmxlU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG1heWJlVmFsaWRhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uTW9kZWxSZW1vdmVkID0gKG1vZGVsKSA9PiB7XG4gICAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3Iuc2V0TW9kZWxNYXJrZXJzKG1vZGVsLCB0aGlzLl9zZWxlY3RvciwgW10pO1xuICAgICAgY29uc3Qga2V5ID0gbW9kZWwudXJpLnRvU3RyaW5nKCk7XG4gICAgICBpZiAodGhpcy5fbGlzdGVuZXJba2V5XSkge1xuICAgICAgICB0aGlzLl9saXN0ZW5lcltrZXldLmRpc3Bvc2UoKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyW2tleV07XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKFxuICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uRGlkQ3JlYXRlTW9kZWwoKG1vZGVsKSA9PiBvbk1vZGVsQWRkKG1vZGVsKSlcbiAgICApO1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uV2lsbERpc3Bvc2VNb2RlbChvbk1vZGVsUmVtb3ZlZCkpO1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2goXG4gICAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3Iub25EaWRDaGFuZ2VNb2RlbExhbmd1YWdlKChldmVudCkgPT4ge1xuICAgICAgICBvbk1vZGVsUmVtb3ZlZChldmVudC5tb2RlbCk7XG4gICAgICAgIG9uTW9kZWxBZGQoZXZlbnQubW9kZWwpO1xuICAgICAgfSlcbiAgICApO1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2goe1xuICAgICAgZGlzcG9zZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBtb2RlbCBvZiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuZ2V0TW9kZWxzKCkpIHtcbiAgICAgICAgICBvbk1vZGVsUmVtb3ZlZChtb2RlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCByZWNvbXB1dGVEaWFnb3N0aWNzID0gKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBtb2RlbCBvZiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuZ2V0TW9kZWxzKCkpIHtcbiAgICAgICAgb25Nb2RlbFJlbW92ZWQobW9kZWwpO1xuICAgICAgICBvbk1vZGVsQWRkKG1vZGVsKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2godGhpcy5fZGVmYXVsdHMub25EaWRDaGFuZ2UocmVjb21wdXRlRGlhZ29zdGljcykpO1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2godGhpcy5fZGVmYXVsdHMub25EaWRFeHRyYUxpYnNDaGFuZ2UocmVjb21wdXRlRGlhZ29zdGljcykpO1xuICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5nZXRNb2RlbHMoKS5mb3JFYWNoKChtb2RlbCkgPT4gb25Nb2RlbEFkZChtb2RlbCkpO1xuICB9XG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5fZGlzcG9zYWJsZXMuZm9yRWFjaCgoZCkgPT4gZCAmJiBkLmRpc3Bvc2UoKSk7XG4gICAgdGhpcy5fZGlzcG9zYWJsZXMgPSBbXTtcbiAgfVxuICBhc3luYyBfZG9WYWxpZGF0ZShtb2RlbCkge1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihtb2RlbC51cmkpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICBjb25zdCB7IG5vU3ludGF4VmFsaWRhdGlvbiwgbm9TZW1hbnRpY1ZhbGlkYXRpb24sIG5vU3VnZ2VzdGlvbkRpYWdub3N0aWNzIH0gPSB0aGlzLl9kZWZhdWx0cy5nZXREaWFnbm9zdGljc09wdGlvbnMoKTtcbiAgICBpZiAoIW5vU3ludGF4VmFsaWRhdGlvbikge1xuICAgICAgcHJvbWlzZXMucHVzaCh3b3JrZXIuZ2V0U3ludGFjdGljRGlhZ25vc3RpY3MobW9kZWwudXJpLnRvU3RyaW5nKCkpKTtcbiAgICB9XG4gICAgaWYgKCFub1NlbWFudGljVmFsaWRhdGlvbikge1xuICAgICAgcHJvbWlzZXMucHVzaCh3b3JrZXIuZ2V0U2VtYW50aWNEaWFnbm9zdGljcyhtb2RlbC51cmkudG9TdHJpbmcoKSkpO1xuICAgIH1cbiAgICBpZiAoIW5vU3VnZ2VzdGlvbkRpYWdub3N0aWNzKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKHdvcmtlci5nZXRTdWdnZXN0aW9uRGlhZ25vc3RpY3MobW9kZWwudXJpLnRvU3RyaW5nKCkpKTtcbiAgICB9XG4gICAgY29uc3QgYWxsRGlhZ25vc3RpY3MgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgaWYgKCFhbGxEaWFnbm9zdGljcyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGlhZ25vc3RpY3MgPSBhbGxEaWFnbm9zdGljcy5yZWR1Y2UoKHAsIGMpID0+IGMuY29uY2F0KHApLCBbXSkuZmlsdGVyKFxuICAgICAgKGQpID0+ICh0aGlzLl9kZWZhdWx0cy5nZXREaWFnbm9zdGljc09wdGlvbnMoKS5kaWFnbm9zdGljQ29kZXNUb0lnbm9yZSB8fCBbXSkuaW5kZXhPZihkLmNvZGUpID09PSAtMVxuICAgICk7XG4gICAgY29uc3QgcmVsYXRlZFVyaXMgPSBkaWFnbm9zdGljcy5tYXAoKGQpID0+IGQucmVsYXRlZEluZm9ybWF0aW9uIHx8IFtdKS5yZWR1Y2UoKHAsIGMpID0+IGMuY29uY2F0KHApLCBbXSkubWFwKFxuICAgICAgKHJlbGF0ZWRJbmZvcm1hdGlvbikgPT4gcmVsYXRlZEluZm9ybWF0aW9uLmZpbGUgPyBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5VcmkucGFyc2UocmVsYXRlZEluZm9ybWF0aW9uLmZpbGUuZmlsZU5hbWUpIDogbnVsbFxuICAgICk7XG4gICAgYXdhaXQgdGhpcy5fbGliRmlsZXMuZmV0Y2hMaWJGaWxlc0lmTmVjZXNzYXJ5KHJlbGF0ZWRVcmlzKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5zZXRNb2RlbE1hcmtlcnMoXG4gICAgICBtb2RlbCxcbiAgICAgIHRoaXMuX3NlbGVjdG9yLFxuICAgICAgZGlhZ25vc3RpY3MubWFwKChkKSA9PiB0aGlzLl9jb252ZXJ0RGlhZ25vc3RpY3MobW9kZWwsIGQpKVxuICAgICk7XG4gIH1cbiAgX2NvbnZlcnREaWFnbm9zdGljcyhtb2RlbCwgZGlhZykge1xuICAgIGNvbnN0IGRpYWdTdGFydCA9IGRpYWcuc3RhcnQgfHwgMDtcbiAgICBjb25zdCBkaWFnTGVuZ3RoID0gZGlhZy5sZW5ndGggfHwgMTtcbiAgICBjb25zdCB7IGxpbmVOdW1iZXI6IHN0YXJ0TGluZU51bWJlciwgY29sdW1uOiBzdGFydENvbHVtbiB9ID0gbW9kZWwuZ2V0UG9zaXRpb25BdChkaWFnU3RhcnQpO1xuICAgIGNvbnN0IHsgbGluZU51bWJlcjogZW5kTGluZU51bWJlciwgY29sdW1uOiBlbmRDb2x1bW4gfSA9IG1vZGVsLmdldFBvc2l0aW9uQXQoXG4gICAgICBkaWFnU3RhcnQgKyBkaWFnTGVuZ3RoXG4gICAgKTtcbiAgICBjb25zdCB0YWdzID0gW107XG4gICAgaWYgKGRpYWcucmVwb3J0c1VubmVjZXNzYXJ5KSB7XG4gICAgICB0YWdzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuTWFya2VyVGFnLlVubmVjZXNzYXJ5KTtcbiAgICB9XG4gICAgaWYgKGRpYWcucmVwb3J0c0RlcHJlY2F0ZWQpIHtcbiAgICAgIHRhZ3MucHVzaChtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJUYWcuRGVwcmVjYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzZXZlcml0eTogdGhpcy5fdHNEaWFnbm9zdGljQ2F0ZWdvcnlUb01hcmtlclNldmVyaXR5KGRpYWcuY2F0ZWdvcnkpLFxuICAgICAgc3RhcnRMaW5lTnVtYmVyLFxuICAgICAgc3RhcnRDb2x1bW4sXG4gICAgICBlbmRMaW5lTnVtYmVyLFxuICAgICAgZW5kQ29sdW1uLFxuICAgICAgbWVzc2FnZTogZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dChkaWFnLm1lc3NhZ2VUZXh0LCBcIlxcblwiKSxcbiAgICAgIGNvZGU6IGRpYWcuY29kZS50b1N0cmluZygpLFxuICAgICAgdGFncyxcbiAgICAgIHJlbGF0ZWRJbmZvcm1hdGlvbjogdGhpcy5fY29udmVydFJlbGF0ZWRJbmZvcm1hdGlvbihtb2RlbCwgZGlhZy5yZWxhdGVkSW5mb3JtYXRpb24pXG4gICAgfTtcbiAgfVxuICBfY29udmVydFJlbGF0ZWRJbmZvcm1hdGlvbihtb2RlbCwgcmVsYXRlZEluZm9ybWF0aW9uKSB7XG4gICAgaWYgKCFyZWxhdGVkSW5mb3JtYXRpb24pIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgcmVsYXRlZEluZm9ybWF0aW9uLmZvckVhY2goKGluZm8pID0+IHtcbiAgICAgIGxldCByZWxhdGVkUmVzb3VyY2UgPSBtb2RlbDtcbiAgICAgIGlmIChpbmZvLmZpbGUpIHtcbiAgICAgICAgcmVsYXRlZFJlc291cmNlID0gdGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChpbmZvLmZpbGUuZmlsZU5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKCFyZWxhdGVkUmVzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5mb1N0YXJ0ID0gaW5mby5zdGFydCB8fCAwO1xuICAgICAgY29uc3QgaW5mb0xlbmd0aCA9IGluZm8ubGVuZ3RoIHx8IDE7XG4gICAgICBjb25zdCB7IGxpbmVOdW1iZXI6IHN0YXJ0TGluZU51bWJlciwgY29sdW1uOiBzdGFydENvbHVtbiB9ID0gcmVsYXRlZFJlc291cmNlLmdldFBvc2l0aW9uQXQoaW5mb1N0YXJ0KTtcbiAgICAgIGNvbnN0IHsgbGluZU51bWJlcjogZW5kTGluZU51bWJlciwgY29sdW1uOiBlbmRDb2x1bW4gfSA9IHJlbGF0ZWRSZXNvdXJjZS5nZXRQb3NpdGlvbkF0KFxuICAgICAgICBpbmZvU3RhcnQgKyBpbmZvTGVuZ3RoXG4gICAgICApO1xuICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICByZXNvdXJjZTogcmVsYXRlZFJlc291cmNlLnVyaSxcbiAgICAgICAgc3RhcnRMaW5lTnVtYmVyLFxuICAgICAgICBzdGFydENvbHVtbixcbiAgICAgICAgZW5kTGluZU51bWJlcixcbiAgICAgICAgZW5kQ29sdW1uLFxuICAgICAgICBtZXNzYWdlOiBmbGF0dGVuRGlhZ25vc3RpY01lc3NhZ2VUZXh0KGluZm8ubWVzc2FnZVRleHQsIFwiXFxuXCIpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIF90c0RpYWdub3N0aWNDYXRlZ29yeVRvTWFya2VyU2V2ZXJpdHkoY2F0ZWdvcnkpIHtcbiAgICBzd2l0Y2ggKGNhdGVnb3J5KSB7XG4gICAgICBjYXNlIDEgLyogRXJyb3IgKi86XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJTZXZlcml0eS5FcnJvcjtcbiAgICAgIGNhc2UgMyAvKiBNZXNzYWdlICovOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuTWFya2VyU2V2ZXJpdHkuSW5mbztcbiAgICAgIGNhc2UgMCAvKiBXYXJuaW5nICovOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuTWFya2VyU2V2ZXJpdHkuV2FybmluZztcbiAgICAgIGNhc2UgMiAvKiBTdWdnZXN0aW9uICovOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuTWFya2VyU2V2ZXJpdHkuSGludDtcbiAgICB9XG4gICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLk1hcmtlclNldmVyaXR5LkluZm87XG4gIH1cbn07XG52YXIgU3VnZ2VzdEFkYXB0ZXIgPSBjbGFzcyBfU3VnZ2VzdEFkYXB0ZXIgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgZ2V0IHRyaWdnZXJDaGFyYWN0ZXJzKCkge1xuICAgIHJldHVybiBbXCIuXCJdO1xuICB9XG4gIGFzeW5jIHByb3ZpZGVDb21wbGV0aW9uSXRlbXMobW9kZWwsIHBvc2l0aW9uLCBfY29udGV4dCwgdG9rZW4pIHtcbiAgICBjb25zdCB3b3JkSW5mbyA9IG1vZGVsLmdldFdvcmRVbnRpbFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICBjb25zdCB3b3JkUmFuZ2UgPSBuZXcgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuUmFuZ2UoXG4gICAgICBwb3NpdGlvbi5saW5lTnVtYmVyLFxuICAgICAgd29yZEluZm8uc3RhcnRDb2x1bW4sXG4gICAgICBwb3NpdGlvbi5saW5lTnVtYmVyLFxuICAgICAgd29yZEluZm8uZW5kQ29sdW1uXG4gICAgKTtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCB3b3JrZXIuZ2V0Q29tcGxldGlvbnNBdFBvc2l0aW9uKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCk7XG4gICAgaWYgKCFpbmZvIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdWdnZXN0aW9ucyA9IGluZm8uZW50cmllcy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICBsZXQgcmFuZ2UgPSB3b3JkUmFuZ2U7XG4gICAgICBpZiAoZW50cnkucmVwbGFjZW1lbnRTcGFuKSB7XG4gICAgICAgIGNvbnN0IHAxID0gbW9kZWwuZ2V0UG9zaXRpb25BdChlbnRyeS5yZXBsYWNlbWVudFNwYW4uc3RhcnQpO1xuICAgICAgICBjb25zdCBwMiA9IG1vZGVsLmdldFBvc2l0aW9uQXQoZW50cnkucmVwbGFjZW1lbnRTcGFuLnN0YXJ0ICsgZW50cnkucmVwbGFjZW1lbnRTcGFuLmxlbmd0aCk7XG4gICAgICAgIHJhbmdlID0gbmV3IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlJhbmdlKHAxLmxpbmVOdW1iZXIsIHAxLmNvbHVtbiwgcDIubGluZU51bWJlciwgcDIuY29sdW1uKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhZ3MgPSBbXTtcbiAgICAgIGlmIChlbnRyeS5raW5kTW9kaWZpZXJzICE9PSB2b2lkIDAgJiYgZW50cnkua2luZE1vZGlmaWVycy5pbmRleE9mKFwiZGVwcmVjYXRlZFwiKSAhPT0gLTEpIHtcbiAgICAgICAgdGFncy5wdXNoKG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbVRhZy5EZXByZWNhdGVkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVyaTogcmVzb3VyY2UsXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIHJhbmdlLFxuICAgICAgICBsYWJlbDogZW50cnkubmFtZSxcbiAgICAgICAgaW5zZXJ0VGV4dDogZW50cnkubmFtZSxcbiAgICAgICAgc29ydFRleHQ6IGVudHJ5LnNvcnRUZXh0LFxuICAgICAgICBraW5kOiBfU3VnZ2VzdEFkYXB0ZXIuY29udmVydEtpbmQoZW50cnkua2luZCksXG4gICAgICAgIHRhZ3NcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Z2dlc3Rpb25zXG4gICAgfTtcbiAgfVxuICBhc3luYyByZXNvbHZlQ29tcGxldGlvbkl0ZW0oaXRlbSwgdG9rZW4pIHtcbiAgICBjb25zdCBteUl0ZW0gPSBpdGVtO1xuICAgIGNvbnN0IHJlc291cmNlID0gbXlJdGVtLnVyaTtcbiAgICBjb25zdCBwb3NpdGlvbiA9IG15SXRlbS5wb3NpdGlvbjtcbiAgICBjb25zdCBvZmZzZXQgPSBteUl0ZW0ub2Zmc2V0O1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihyZXNvdXJjZSk7XG4gICAgY29uc3QgZGV0YWlscyA9IGF3YWl0IHdvcmtlci5nZXRDb21wbGV0aW9uRW50cnlEZXRhaWxzKFxuICAgICAgcmVzb3VyY2UudG9TdHJpbmcoKSxcbiAgICAgIG9mZnNldCxcbiAgICAgIG15SXRlbS5sYWJlbFxuICAgICk7XG4gICAgaWYgKCFkZXRhaWxzKSB7XG4gICAgICByZXR1cm4gbXlJdGVtO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdXJpOiByZXNvdXJjZSxcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgbGFiZWw6IGRldGFpbHMubmFtZSxcbiAgICAgIGtpbmQ6IF9TdWdnZXN0QWRhcHRlci5jb252ZXJ0S2luZChkZXRhaWxzLmtpbmQpLFxuICAgICAgZGV0YWlsOiBkaXNwbGF5UGFydHNUb1N0cmluZyhkZXRhaWxzLmRpc3BsYXlQYXJ0cyksXG4gICAgICBkb2N1bWVudGF0aW9uOiB7XG4gICAgICAgIHZhbHVlOiBfU3VnZ2VzdEFkYXB0ZXIuY3JlYXRlRG9jdW1lbnRhdGlvblN0cmluZyhkZXRhaWxzKVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgc3RhdGljIGNvbnZlcnRLaW5kKGtpbmQpIHtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS2luZC5wcmltaXRpdmVUeXBlOlxuICAgICAgY2FzZSBLaW5kLmtleXdvcmQ6XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLktleXdvcmQ7XG4gICAgICBjYXNlIEtpbmQudmFyaWFibGU6XG4gICAgICBjYXNlIEtpbmQubG9jYWxWYXJpYWJsZTpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuVmFyaWFibGU7XG4gICAgICBjYXNlIEtpbmQubWVtYmVyVmFyaWFibGU6XG4gICAgICBjYXNlIEtpbmQubWVtYmVyR2V0QWNjZXNzb3I6XG4gICAgICBjYXNlIEtpbmQubWVtYmVyU2V0QWNjZXNzb3I6XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkZpZWxkO1xuICAgICAgY2FzZSBLaW5kLmZ1bmN0aW9uOlxuICAgICAgY2FzZSBLaW5kLm1lbWJlckZ1bmN0aW9uOlxuICAgICAgY2FzZSBLaW5kLmNvbnN0cnVjdFNpZ25hdHVyZTpcbiAgICAgIGNhc2UgS2luZC5jYWxsU2lnbmF0dXJlOlxuICAgICAgY2FzZSBLaW5kLmluZGV4U2lnbmF0dXJlOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5GdW5jdGlvbjtcbiAgICAgIGNhc2UgS2luZC5lbnVtOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5FbnVtO1xuICAgICAgY2FzZSBLaW5kLm1vZHVsZTpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuTW9kdWxlO1xuICAgICAgY2FzZSBLaW5kLmNsYXNzOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5DbGFzcztcbiAgICAgIGNhc2UgS2luZC5pbnRlcmZhY2U6XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkludGVyZmFjZTtcbiAgICAgIGNhc2UgS2luZC53YXJuaW5nOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5GaWxlO1xuICAgIH1cbiAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5Qcm9wZXJ0eTtcbiAgfVxuICBzdGF0aWMgY3JlYXRlRG9jdW1lbnRhdGlvblN0cmluZyhkZXRhaWxzKSB7XG4gICAgbGV0IGRvY3VtZW50YXRpb25TdHJpbmcgPSBkaXNwbGF5UGFydHNUb1N0cmluZyhkZXRhaWxzLmRvY3VtZW50YXRpb24pO1xuICAgIGlmIChkZXRhaWxzLnRhZ3MpIHtcbiAgICAgIGZvciAoY29uc3QgdGFnIG9mIGRldGFpbHMudGFncykge1xuICAgICAgICBkb2N1bWVudGF0aW9uU3RyaW5nICs9IGBcblxuJHt0YWdUb1N0cmluZyh0YWcpfWA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkb2N1bWVudGF0aW9uU3RyaW5nO1xuICB9XG59O1xuZnVuY3Rpb24gdGFnVG9TdHJpbmcodGFnKSB7XG4gIGxldCB0YWdMYWJlbCA9IGAqQCR7dGFnLm5hbWV9KmA7XG4gIGlmICh0YWcubmFtZSA9PT0gXCJwYXJhbVwiICYmIHRhZy50ZXh0KSB7XG4gICAgY29uc3QgW3BhcmFtTmFtZSwgLi4ucmVzdF0gPSB0YWcudGV4dDtcbiAgICB0YWdMYWJlbCArPSBgXFxgJHtwYXJhbU5hbWUudGV4dH1cXGBgO1xuICAgIGlmIChyZXN0Lmxlbmd0aCA+IDApIHRhZ0xhYmVsICs9IGAgXFx1MjAxNCAke3Jlc3QubWFwKChyKSA9PiByLnRleHQpLmpvaW4oXCIgXCIpfWA7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0YWcudGV4dCkpIHtcbiAgICB0YWdMYWJlbCArPSBgIFxcdTIwMTQgJHt0YWcudGV4dC5tYXAoKHIpID0+IHIudGV4dCkuam9pbihcIiBcIil9YDtcbiAgfSBlbHNlIGlmICh0YWcudGV4dCkge1xuICAgIHRhZ0xhYmVsICs9IGAgXFx1MjAxNCAke3RhZy50ZXh0fWA7XG4gIH1cbiAgcmV0dXJuIHRhZ0xhYmVsO1xufVxudmFyIFNpZ25hdHVyZUhlbHBBZGFwdGVyID0gY2xhc3MgX1NpZ25hdHVyZUhlbHBBZGFwdGVyIGV4dGVuZHMgQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5zaWduYXR1cmVIZWxwVHJpZ2dlckNoYXJhY3RlcnMgPSBbXCIoXCIsIFwiLFwiXTtcbiAgfVxuICBzdGF0aWMgX3RvU2lnbmF0dXJlSGVscFRyaWdnZXJSZWFzb24oY29udGV4dCkge1xuICAgIHN3aXRjaCAoY29udGV4dC50cmlnZ2VyS2luZCkge1xuICAgICAgY2FzZSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kLlRyaWdnZXJDaGFyYWN0ZXI6XG4gICAgICAgIGlmIChjb250ZXh0LnRyaWdnZXJDaGFyYWN0ZXIpIHtcbiAgICAgICAgICBpZiAoY29udGV4dC5pc1JldHJpZ2dlcikge1xuICAgICAgICAgICAgcmV0dXJuIHsga2luZDogXCJyZXRyaWdnZXJcIiwgdHJpZ2dlckNoYXJhY3RlcjogY29udGV4dC50cmlnZ2VyQ2hhcmFjdGVyIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IGtpbmQ6IFwiY2hhcmFjdGVyVHlwZWRcIiwgdHJpZ2dlckNoYXJhY3RlcjogY29udGV4dC50cmlnZ2VyQ2hhcmFjdGVyIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7IGtpbmQ6IFwiaW52b2tlZFwiIH07XG4gICAgICAgIH1cbiAgICAgIGNhc2UgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZC5Db250ZW50Q2hhbmdlOlxuICAgICAgICByZXR1cm4gY29udGV4dC5pc1JldHJpZ2dlciA/IHsga2luZDogXCJyZXRyaWdnZXJcIiB9IDogeyBraW5kOiBcImludm9rZWRcIiB9O1xuICAgICAgY2FzZSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kLkludm9rZTpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB7IGtpbmQ6IFwiaW52b2tlZFwiIH07XG4gICAgfVxuICB9XG4gIGFzeW5jIHByb3ZpZGVTaWduYXR1cmVIZWxwKG1vZGVsLCBwb3NpdGlvbiwgdG9rZW4sIGNvbnRleHQpIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCB3b3JrZXIuZ2V0U2lnbmF0dXJlSGVscEl0ZW1zKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCwge1xuICAgICAgdHJpZ2dlclJlYXNvbjogX1NpZ25hdHVyZUhlbHBBZGFwdGVyLl90b1NpZ25hdHVyZUhlbHBUcmlnZ2VyUmVhc29uKGNvbnRleHQpXG4gICAgfSk7XG4gICAgaWYgKCFpbmZvIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXQgPSB7XG4gICAgICBhY3RpdmVTaWduYXR1cmU6IGluZm8uc2VsZWN0ZWRJdGVtSW5kZXgsXG4gICAgICBhY3RpdmVQYXJhbWV0ZXI6IGluZm8uYXJndW1lbnRJbmRleCxcbiAgICAgIHNpZ25hdHVyZXM6IFtdXG4gICAgfTtcbiAgICBpbmZvLml0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IHtcbiAgICAgICAgbGFiZWw6IFwiXCIsXG4gICAgICAgIHBhcmFtZXRlcnM6IFtdXG4gICAgICB9O1xuICAgICAgc2lnbmF0dXJlLmRvY3VtZW50YXRpb24gPSB7XG4gICAgICAgIHZhbHVlOiBkaXNwbGF5UGFydHNUb1N0cmluZyhpdGVtLmRvY3VtZW50YXRpb24pXG4gICAgICB9O1xuICAgICAgc2lnbmF0dXJlLmxhYmVsICs9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGl0ZW0ucHJlZml4RGlzcGxheVBhcnRzKTtcbiAgICAgIGl0ZW0ucGFyYW1ldGVycy5mb3JFYWNoKChwLCBpLCBhKSA9PiB7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gZGlzcGxheVBhcnRzVG9TdHJpbmcocC5kaXNwbGF5UGFydHMpO1xuICAgICAgICBjb25zdCBwYXJhbWV0ZXIgPSB7XG4gICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgZG9jdW1lbnRhdGlvbjoge1xuICAgICAgICAgICAgdmFsdWU6IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKHAuZG9jdW1lbnRhdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNpZ25hdHVyZS5sYWJlbCArPSBsYWJlbDtcbiAgICAgICAgc2lnbmF0dXJlLnBhcmFtZXRlcnMucHVzaChwYXJhbWV0ZXIpO1xuICAgICAgICBpZiAoaSA8IGEubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHNpZ25hdHVyZS5sYWJlbCArPSBkaXNwbGF5UGFydHNUb1N0cmluZyhpdGVtLnNlcGFyYXRvckRpc3BsYXlQYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2lnbmF0dXJlLmxhYmVsICs9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGl0ZW0uc3VmZml4RGlzcGxheVBhcnRzKTtcbiAgICAgIHJldC5zaWduYXR1cmVzLnB1c2goc2lnbmF0dXJlKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHJldCxcbiAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbnZhciBRdWlja0luZm9BZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgYXN5bmMgcHJvdmlkZUhvdmVyKG1vZGVsLCBwb3NpdGlvbiwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCB3b3JrZXIuZ2V0UXVpY2tJbmZvQXRQb3NpdGlvbihyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQpO1xuICAgIGlmICghaW5mbyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZG9jdW1lbnRhdGlvbiA9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGluZm8uZG9jdW1lbnRhdGlvbik7XG4gICAgY29uc3QgdGFncyA9IGluZm8udGFncyA/IGluZm8udGFncy5tYXAoKHRhZykgPT4gdGFnVG9TdHJpbmcodGFnKSkuam9pbihcIiAgXFxuXFxuXCIpIDogXCJcIjtcbiAgICBjb25zdCBjb250ZW50cyA9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGluZm8uZGlzcGxheVBhcnRzKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgaW5mby50ZXh0U3BhbiksXG4gICAgICBjb250ZW50czogW1xuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IFwiYGBgdHlwZXNjcmlwdFxcblwiICsgY29udGVudHMgKyBcIlxcbmBgYFxcblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogZG9jdW1lbnRhdGlvbiArICh0YWdzID8gXCJcXG5cXG5cIiArIHRhZ3MgOiBcIlwiKVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxufTtcbnZhciBEb2N1bWVudEhpZ2hsaWdodEFkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIEFkYXB0ZXIge1xuICBhc3luYyBwcm92aWRlRG9jdW1lbnRIaWdobGlnaHRzKG1vZGVsLCBwb3NpdGlvbiwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVudHJpZXMgPSBhd2FpdCB3b3JrZXIuZ2V0RG9jdW1lbnRIaWdobGlnaHRzKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCwgW1xuICAgICAgcmVzb3VyY2UudG9TdHJpbmcoKVxuICAgIF0pO1xuICAgIGlmICghZW50cmllcyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXMuZmxhdE1hcCgoZW50cnkpID0+IHtcbiAgICAgIHJldHVybiBlbnRyeS5oaWdobGlnaHRTcGFucy5tYXAoKGhpZ2hsaWdodFNwYW5zKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgaGlnaGxpZ2h0U3BhbnMudGV4dFNwYW4pLFxuICAgICAgICAgIGtpbmQ6IGhpZ2hsaWdodFNwYW5zLmtpbmQgPT09IFwid3JpdHRlblJlZmVyZW5jZVwiID8gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkRvY3VtZW50SGlnaGxpZ2h0S2luZC5Xcml0ZSA6IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Eb2N1bWVudEhpZ2hsaWdodEtpbmQuVGV4dFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn07XG52YXIgRGVmaW5pdGlvbkFkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIEFkYXB0ZXIge1xuICBjb25zdHJ1Y3RvcihfbGliRmlsZXMsIHdvcmtlcikge1xuICAgIHN1cGVyKHdvcmtlcik7XG4gICAgdGhpcy5fbGliRmlsZXMgPSBfbGliRmlsZXM7XG4gIH1cbiAgYXN5bmMgcHJvdmlkZURlZmluaXRpb24obW9kZWwsIHBvc2l0aW9uLCB0b2tlbikge1xuICAgIGNvbnN0IHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgIGNvbnN0IG9mZnNldCA9IG1vZGVsLmdldE9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICBjb25zdCB3b3JrZXIgPSBhd2FpdCB0aGlzLl93b3JrZXIocmVzb3VyY2UpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW50cmllcyA9IGF3YWl0IHdvcmtlci5nZXREZWZpbml0aW9uQXRQb3NpdGlvbihyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQpO1xuICAgIGlmICghZW50cmllcyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5fbGliRmlsZXMuZmV0Y2hMaWJGaWxlc0lmTmVjZXNzYXJ5KFxuICAgICAgZW50cmllcy5tYXAoKGVudHJ5KSA9PiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5VcmkucGFyc2UoZW50cnkuZmlsZU5hbWUpKVxuICAgICk7XG4gICAgaWYgKG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICBjb25zdCByZWZNb2RlbCA9IHRoaXMuX2xpYkZpbGVzLmdldE9yQ3JlYXRlTW9kZWwoZW50cnkuZmlsZU5hbWUpO1xuICAgICAgaWYgKHJlZk1vZGVsKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICB1cmk6IHJlZk1vZGVsLnVyaSxcbiAgICAgICAgICByYW5nZTogdGhpcy5fdGV4dFNwYW5Ub1JhbmdlKHJlZk1vZGVsLCBlbnRyeS50ZXh0U3BhbilcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG52YXIgUmVmZXJlbmNlQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKF9saWJGaWxlcywgd29ya2VyKSB7XG4gICAgc3VwZXIod29ya2VyKTtcbiAgICB0aGlzLl9saWJGaWxlcyA9IF9saWJGaWxlcztcbiAgfVxuICBhc3luYyBwcm92aWRlUmVmZXJlbmNlcyhtb2RlbCwgcG9zaXRpb24sIGNvbnRleHQsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQocG9zaXRpb24pO1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihyZXNvdXJjZSk7XG4gICAgaWYgKG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbnRyaWVzID0gYXdhaXQgd29ya2VyLmdldFJlZmVyZW5jZXNBdFBvc2l0aW9uKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCk7XG4gICAgaWYgKCFlbnRyaWVzIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLl9saWJGaWxlcy5mZXRjaExpYkZpbGVzSWZOZWNlc3NhcnkoXG4gICAgICBlbnRyaWVzLm1hcCgoZW50cnkpID0+IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlVyaS5wYXJzZShlbnRyeS5maWxlTmFtZSkpXG4gICAgKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJlZk1vZGVsID0gdGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChlbnRyeS5maWxlTmFtZSk7XG4gICAgICBpZiAocmVmTW9kZWwpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIHVyaTogcmVmTW9kZWwudXJpLFxuICAgICAgICAgIHJhbmdlOiB0aGlzLl90ZXh0U3BhblRvUmFuZ2UocmVmTW9kZWwsIGVudHJ5LnRleHRTcGFuKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbnZhciBPdXRsaW5lQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGFzeW5jIHByb3ZpZGVEb2N1bWVudFN5bWJvbHMobW9kZWwsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvb3QgPSBhd2FpdCB3b3JrZXIuZ2V0TmF2aWdhdGlvblRyZWUocmVzb3VyY2UudG9TdHJpbmcoKSk7XG4gICAgaWYgKCFyb290IHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb252ZXJ0ID0gKGl0ZW0sIGNvbnRhaW5lckxhYmVsKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQyID0ge1xuICAgICAgICBuYW1lOiBpdGVtLnRleHQsXG4gICAgICAgIGRldGFpbDogXCJcIixcbiAgICAgICAga2luZDogb3V0bGluZVR5cGVUYWJsZVtpdGVtLmtpbmRdIHx8IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLlZhcmlhYmxlLFxuICAgICAgICByYW5nZTogdGhpcy5fdGV4dFNwYW5Ub1JhbmdlKG1vZGVsLCBpdGVtLnNwYW5zWzBdKSxcbiAgICAgICAgc2VsZWN0aW9uUmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgaXRlbS5zcGFuc1swXSksXG4gICAgICAgIHRhZ3M6IFtdLFxuICAgICAgICBjaGlsZHJlbjogaXRlbS5jaGlsZEl0ZW1zPy5tYXAoKGNoaWxkKSA9PiBjb252ZXJ0KGNoaWxkLCBpdGVtLnRleHQpKSxcbiAgICAgICAgY29udGFpbmVyTmFtZTogY29udGFpbmVyTGFiZWxcbiAgICAgIH07XG4gICAgICByZXR1cm4gcmVzdWx0MjtcbiAgICB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IHJvb3QuY2hpbGRJdGVtcyA/IHJvb3QuY2hpbGRJdGVtcy5tYXAoKGl0ZW0pID0+IGNvbnZlcnQoaXRlbSkpIDogW107XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbnZhciBLaW5kID0gY2xhc3Mge1xuICBzdGF0aWMge1xuICAgIHRoaXMudW5rbm93biA9IFwiXCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLmtleXdvcmQgPSBcImtleXdvcmRcIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuc2NyaXB0ID0gXCJzY3JpcHRcIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMubW9kdWxlID0gXCJtb2R1bGVcIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuY2xhc3MgPSBcImNsYXNzXCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLmludGVyZmFjZSA9IFwiaW50ZXJmYWNlXCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnR5cGUgPSBcInR5cGVcIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuZW51bSA9IFwiZW51bVwiO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy52YXJpYWJsZSA9IFwidmFyXCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLmxvY2FsVmFyaWFibGUgPSBcImxvY2FsIHZhclwiO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5mdW5jdGlvbiA9IFwiZnVuY3Rpb25cIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMubG9jYWxGdW5jdGlvbiA9IFwibG9jYWwgZnVuY3Rpb25cIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMubWVtYmVyRnVuY3Rpb24gPSBcIm1ldGhvZFwiO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5tZW1iZXJHZXRBY2Nlc3NvciA9IFwiZ2V0dGVyXCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLm1lbWJlclNldEFjY2Vzc29yID0gXCJzZXR0ZXJcIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMubWVtYmVyVmFyaWFibGUgPSBcInByb3BlcnR5XCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLmNvbnN0cnVjdG9ySW1wbGVtZW50YXRpb24gPSBcImNvbnN0cnVjdG9yXCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLmNhbGxTaWduYXR1cmUgPSBcImNhbGxcIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuaW5kZXhTaWduYXR1cmUgPSBcImluZGV4XCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLmNvbnN0cnVjdFNpZ25hdHVyZSA9IFwiY29uc3RydWN0XCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnBhcmFtZXRlciA9IFwicGFyYW1ldGVyXCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnR5cGVQYXJhbWV0ZXIgPSBcInR5cGUgcGFyYW1ldGVyXCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnByaW1pdGl2ZVR5cGUgPSBcInByaW1pdGl2ZSB0eXBlXCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLmxhYmVsID0gXCJsYWJlbFwiO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5hbGlhcyA9IFwiYWxpYXNcIjtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuY29uc3QgPSBcImNvbnN0XCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLmxldCA9IFwibGV0XCI7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLndhcm5pbmcgPSBcIndhcm5pbmdcIjtcbiAgfVxufTtcbnZhciBvdXRsaW5lVHlwZVRhYmxlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG5vdXRsaW5lVHlwZVRhYmxlW0tpbmQubW9kdWxlXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLk1vZHVsZTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5jbGFzc10gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5DbGFzcztcbm91dGxpbmVUeXBlVGFibGVbS2luZC5lbnVtXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkVudW07XG5vdXRsaW5lVHlwZVRhYmxlW0tpbmQuaW50ZXJmYWNlXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkludGVyZmFjZTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tZW1iZXJGdW5jdGlvbl0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5NZXRob2Q7XG5vdXRsaW5lVHlwZVRhYmxlW0tpbmQubWVtYmVyVmFyaWFibGVdID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuUHJvcGVydHk7XG5vdXRsaW5lVHlwZVRhYmxlW0tpbmQubWVtYmVyR2V0QWNjZXNzb3JdID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuUHJvcGVydHk7XG5vdXRsaW5lVHlwZVRhYmxlW0tpbmQubWVtYmVyU2V0QWNjZXNzb3JdID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuUHJvcGVydHk7XG5vdXRsaW5lVHlwZVRhYmxlW0tpbmQudmFyaWFibGVdID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuVmFyaWFibGU7XG5vdXRsaW5lVHlwZVRhYmxlW0tpbmQuY29uc3RdID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuVmFyaWFibGU7XG5vdXRsaW5lVHlwZVRhYmxlW0tpbmQubG9jYWxWYXJpYWJsZV0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5WYXJpYWJsZTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC52YXJpYWJsZV0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5WYXJpYWJsZTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5mdW5jdGlvbl0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5GdW5jdGlvbjtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5sb2NhbEZ1bmN0aW9uXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkZ1bmN0aW9uO1xudmFyIEZvcm1hdEhlbHBlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIHN0YXRpYyBfY29udmVydE9wdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICBDb252ZXJ0VGFic1RvU3BhY2VzOiBvcHRpb25zLmluc2VydFNwYWNlcyxcbiAgICAgIFRhYlNpemU6IG9wdGlvbnMudGFiU2l6ZSxcbiAgICAgIEluZGVudFNpemU6IG9wdGlvbnMudGFiU2l6ZSxcbiAgICAgIEluZGVudFN0eWxlOiAyIC8qIFNtYXJ0ICovLFxuICAgICAgTmV3TGluZUNoYXJhY3RlcjogXCJcXG5cIixcbiAgICAgIEluc2VydFNwYWNlQWZ0ZXJDb21tYURlbGltaXRlcjogdHJ1ZSxcbiAgICAgIEluc2VydFNwYWNlQWZ0ZXJTZW1pY29sb25JbkZvclN0YXRlbWVudHM6IHRydWUsXG4gICAgICBJbnNlcnRTcGFjZUJlZm9yZUFuZEFmdGVyQmluYXJ5T3BlcmF0b3JzOiB0cnVlLFxuICAgICAgSW5zZXJ0U3BhY2VBZnRlcktleXdvcmRzSW5Db250cm9sRmxvd1N0YXRlbWVudHM6IHRydWUsXG4gICAgICBJbnNlcnRTcGFjZUFmdGVyRnVuY3Rpb25LZXl3b3JkRm9yQW5vbnltb3VzRnVuY3Rpb25zOiB0cnVlLFxuICAgICAgSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nTm9uZW1wdHlQYXJlbnRoZXNpczogZmFsc2UsXG4gICAgICBJbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdOb25lbXB0eUJyYWNrZXRzOiBmYWxzZSxcbiAgICAgIEluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ1RlbXBsYXRlU3RyaW5nQnJhY2VzOiBmYWxzZSxcbiAgICAgIFBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yQ29udHJvbEJsb2NrczogZmFsc2UsXG4gICAgICBQbGFjZU9wZW5CcmFjZU9uTmV3TGluZUZvckZ1bmN0aW9uczogZmFsc2VcbiAgICB9O1xuICB9XG4gIF9jb252ZXJ0VGV4dENoYW5nZXMobW9kZWwsIGNoYW5nZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiBjaGFuZ2UubmV3VGV4dCxcbiAgICAgIHJhbmdlOiB0aGlzLl90ZXh0U3BhblRvUmFuZ2UobW9kZWwsIGNoYW5nZS5zcGFuKVxuICAgIH07XG4gIH1cbn07XG52YXIgRm9ybWF0QWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgRm9ybWF0SGVscGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmNhbkZvcm1hdE11bHRpcGxlUmFuZ2VzID0gZmFsc2U7XG4gIH1cbiAgYXN5bmMgcHJvdmlkZURvY3VtZW50UmFuZ2VGb3JtYXR0aW5nRWRpdHMobW9kZWwsIHJhbmdlLCBvcHRpb25zLCB0b2tlbikge1xuICAgIGNvbnN0IHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQoe1xuICAgICAgbGluZU51bWJlcjogcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLFxuICAgICAgY29sdW1uOiByYW5nZS5zdGFydENvbHVtblxuICAgIH0pO1xuICAgIGNvbnN0IGVuZE9mZnNldCA9IG1vZGVsLmdldE9mZnNldEF0KHtcbiAgICAgIGxpbmVOdW1iZXI6IHJhbmdlLmVuZExpbmVOdW1iZXIsXG4gICAgICBjb2x1bW46IHJhbmdlLmVuZENvbHVtblxuICAgIH0pO1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihyZXNvdXJjZSk7XG4gICAgaWYgKG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlZGl0cyA9IGF3YWl0IHdvcmtlci5nZXRGb3JtYXR0aW5nRWRpdHNGb3JSYW5nZShcbiAgICAgIHJlc291cmNlLnRvU3RyaW5nKCksXG4gICAgICBzdGFydE9mZnNldCxcbiAgICAgIGVuZE9mZnNldCxcbiAgICAgIEZvcm1hdEhlbHBlci5fY29udmVydE9wdGlvbnMob3B0aW9ucylcbiAgICApO1xuICAgIGlmICghZWRpdHMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBlZGl0cy5tYXAoKGVkaXQpID0+IHRoaXMuX2NvbnZlcnRUZXh0Q2hhbmdlcyhtb2RlbCwgZWRpdCkpO1xuICB9XG59O1xudmFyIEZvcm1hdE9uVHlwZUFkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIEZvcm1hdEhlbHBlciB7XG4gIGdldCBhdXRvRm9ybWF0VHJpZ2dlckNoYXJhY3RlcnMoKSB7XG4gICAgcmV0dXJuIFtcIjtcIiwgXCJ9XCIsIFwiXFxuXCJdO1xuICB9XG4gIGFzeW5jIHByb3ZpZGVPblR5cGVGb3JtYXR0aW5nRWRpdHMobW9kZWwsIHBvc2l0aW9uLCBjaCwgb3B0aW9ucywgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVkaXRzID0gYXdhaXQgd29ya2VyLmdldEZvcm1hdHRpbmdFZGl0c0FmdGVyS2V5c3Ryb2tlKFxuICAgICAgcmVzb3VyY2UudG9TdHJpbmcoKSxcbiAgICAgIG9mZnNldCxcbiAgICAgIGNoLFxuICAgICAgRm9ybWF0SGVscGVyLl9jb252ZXJ0T3B0aW9ucyhvcHRpb25zKVxuICAgICk7XG4gICAgaWYgKCFlZGl0cyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGVkaXRzLm1hcCgoZWRpdCkgPT4gdGhpcy5fY29udmVydFRleHRDaGFuZ2VzKG1vZGVsLCBlZGl0KSk7XG4gIH1cbn07XG52YXIgQ29kZUFjdGlvbkFkYXB0b3IgPSBjbGFzcyBleHRlbmRzIEZvcm1hdEhlbHBlciB7XG4gIGFzeW5jIHByb3ZpZGVDb2RlQWN0aW9ucyhtb2RlbCwgcmFuZ2UsIGNvbnRleHQsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3Qgc3RhcnQgPSBtb2RlbC5nZXRPZmZzZXRBdCh7XG4gICAgICBsaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsXG4gICAgICBjb2x1bW46IHJhbmdlLnN0YXJ0Q29sdW1uXG4gICAgfSk7XG4gICAgY29uc3QgZW5kID0gbW9kZWwuZ2V0T2Zmc2V0QXQoe1xuICAgICAgbGluZU51bWJlcjogcmFuZ2UuZW5kTGluZU51bWJlcixcbiAgICAgIGNvbHVtbjogcmFuZ2UuZW5kQ29sdW1uXG4gICAgfSk7XG4gICAgY29uc3QgZm9ybWF0T3B0aW9ucyA9IEZvcm1hdEhlbHBlci5fY29udmVydE9wdGlvbnMobW9kZWwuZ2V0T3B0aW9ucygpKTtcbiAgICBjb25zdCBlcnJvckNvZGVzID0gY29udGV4dC5tYXJrZXJzLmZpbHRlcigobSkgPT4gbS5jb2RlKS5tYXAoKG0pID0+IG0uY29kZSkubWFwKE51bWJlcik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvZGVGaXhlcyA9IGF3YWl0IHdvcmtlci5nZXRDb2RlRml4ZXNBdFBvc2l0aW9uKFxuICAgICAgcmVzb3VyY2UudG9TdHJpbmcoKSxcbiAgICAgIHN0YXJ0LFxuICAgICAgZW5kLFxuICAgICAgZXJyb3JDb2RlcyxcbiAgICAgIGZvcm1hdE9wdGlvbnNcbiAgICApO1xuICAgIGlmICghY29kZUZpeGVzIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuIHsgYWN0aW9uczogW10sIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgIH0gfTtcbiAgICB9XG4gICAgY29uc3QgYWN0aW9ucyA9IGNvZGVGaXhlcy5maWx0ZXIoKGZpeCkgPT4ge1xuICAgICAgcmV0dXJuIGZpeC5jaGFuZ2VzLmZpbHRlcigoY2hhbmdlKSA9PiBjaGFuZ2UuaXNOZXdGaWxlKS5sZW5ndGggPT09IDA7XG4gICAgfSkubWFwKChmaXgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl90c0NvZGVGaXhBY3Rpb25Ub01vbmFjb0NvZGVBY3Rpb24obW9kZWwsIGNvbnRleHQsIGZpeCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGlvbnMsXG4gICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfdHNDb2RlRml4QWN0aW9uVG9Nb25hY29Db2RlQWN0aW9uKG1vZGVsLCBjb250ZXh0LCBjb2RlRml4KSB7XG4gICAgY29uc3QgZWRpdHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGNoYW5nZSBvZiBjb2RlRml4LmNoYW5nZXMpIHtcbiAgICAgIGZvciAoY29uc3QgdGV4dENoYW5nZSBvZiBjaGFuZ2UudGV4dENoYW5nZXMpIHtcbiAgICAgICAgZWRpdHMucHVzaCh7XG4gICAgICAgICAgcmVzb3VyY2U6IG1vZGVsLnVyaSxcbiAgICAgICAgICB2ZXJzaW9uSWQ6IHZvaWQgMCxcbiAgICAgICAgICB0ZXh0RWRpdDoge1xuICAgICAgICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgdGV4dENoYW5nZS5zcGFuKSxcbiAgICAgICAgICAgIHRleHQ6IHRleHRDaGFuZ2UubmV3VGV4dFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFjdGlvbiA9IHtcbiAgICAgIHRpdGxlOiBjb2RlRml4LmRlc2NyaXB0aW9uLFxuICAgICAgZWRpdDogeyBlZGl0cyB9LFxuICAgICAgZGlhZ25vc3RpY3M6IGNvbnRleHQubWFya2VycyxcbiAgICAgIGtpbmQ6IFwicXVpY2tmaXhcIlxuICAgIH07XG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfVxufTtcbnZhciBSZW5hbWVBZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IoX2xpYkZpbGVzLCB3b3JrZXIpIHtcbiAgICBzdXBlcih3b3JrZXIpO1xuICAgIHRoaXMuX2xpYkZpbGVzID0gX2xpYkZpbGVzO1xuICB9XG4gIGFzeW5jIHByb3ZpZGVSZW5hbWVFZGl0cyhtb2RlbCwgcG9zaXRpb24sIG5ld05hbWUsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3QgZmlsZU5hbWUgPSByZXNvdXJjZS50b1N0cmluZygpO1xuICAgIGNvbnN0IG9mZnNldCA9IG1vZGVsLmdldE9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICBjb25zdCB3b3JrZXIgPSBhd2FpdCB0aGlzLl93b3JrZXIocmVzb3VyY2UpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVuYW1lSW5mbyA9IGF3YWl0IHdvcmtlci5nZXRSZW5hbWVJbmZvKGZpbGVOYW1lLCBvZmZzZXQsIHtcbiAgICAgIGFsbG93UmVuYW1lT2ZJbXBvcnRQYXRoOiBmYWxzZVxuICAgIH0pO1xuICAgIGlmIChyZW5hbWVJbmZvLmNhblJlbmFtZSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVkaXRzOiBbXSxcbiAgICAgICAgcmVqZWN0UmVhc29uOiByZW5hbWVJbmZvLmxvY2FsaXplZEVycm9yTWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHJlbmFtZUluZm8uZmlsZVRvUmVuYW1lICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlbmFtaW5nIGZpbGVzIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCByZW5hbWVMb2NhdGlvbnMgPSBhd2FpdCB3b3JrZXIuZmluZFJlbmFtZUxvY2F0aW9ucyhcbiAgICAgIGZpbGVOYW1lLFxuICAgICAgb2Zmc2V0LFxuICAgICAgLypzdHJpbmdzKi9cbiAgICAgIGZhbHNlLFxuICAgICAgLypjb21tZW50cyovXG4gICAgICBmYWxzZSxcbiAgICAgIC8qcHJlZml4QW5kU3VmZml4Ki9cbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBpZiAoIXJlbmFtZUxvY2F0aW9ucyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZWRpdHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlbmFtZUxvY2F0aW9uIG9mIHJlbmFtZUxvY2F0aW9ucykge1xuICAgICAgY29uc3QgbW9kZWwyID0gdGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChyZW5hbWVMb2NhdGlvbi5maWxlTmFtZSk7XG4gICAgICBpZiAobW9kZWwyKSB7XG4gICAgICAgIGVkaXRzLnB1c2goe1xuICAgICAgICAgIHJlc291cmNlOiBtb2RlbDIudXJpLFxuICAgICAgICAgIHZlcnNpb25JZDogdm9pZCAwLFxuICAgICAgICAgIHRleHRFZGl0OiB7XG4gICAgICAgICAgICByYW5nZTogdGhpcy5fdGV4dFNwYW5Ub1JhbmdlKG1vZGVsMiwgcmVuYW1lTG9jYXRpb24udGV4dFNwYW4pLFxuICAgICAgICAgICAgdGV4dDogbmV3TmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZmlsZSAke3JlbmFtZUxvY2F0aW9uLmZpbGVOYW1lfS5gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgZWRpdHMgfTtcbiAgfVxufTtcbnZhciBJbmxheUhpbnRzQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGFzeW5jIHByb3ZpZGVJbmxheUhpbnRzKG1vZGVsLCByYW5nZSwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBmaWxlTmFtZSA9IHJlc291cmNlLnRvU3RyaW5nKCk7XG4gICAgY29uc3Qgc3RhcnQgPSBtb2RlbC5nZXRPZmZzZXRBdCh7XG4gICAgICBsaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsXG4gICAgICBjb2x1bW46IHJhbmdlLnN0YXJ0Q29sdW1uXG4gICAgfSk7XG4gICAgY29uc3QgZW5kID0gbW9kZWwuZ2V0T2Zmc2V0QXQoe1xuICAgICAgbGluZU51bWJlcjogcmFuZ2UuZW5kTGluZU51bWJlcixcbiAgICAgIGNvbHVtbjogcmFuZ2UuZW5kQ29sdW1uXG4gICAgfSk7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdHNIaW50cyA9IGF3YWl0IHdvcmtlci5wcm92aWRlSW5sYXlIaW50cyhmaWxlTmFtZSwgc3RhcnQsIGVuZCk7XG4gICAgY29uc3QgaGludHMgPSB0c0hpbnRzLm1hcCgoaGludCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaGludCxcbiAgICAgICAgbGFiZWw6IGhpbnQudGV4dCxcbiAgICAgICAgcG9zaXRpb246IG1vZGVsLmdldFBvc2l0aW9uQXQoaGludC5wb3NpdGlvbiksXG4gICAgICAgIGtpbmQ6IHRoaXMuX2NvbnZlcnRIaW50S2luZChoaW50LmtpbmQpXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiB7IGhpbnRzLCBkaXNwb3NlOiAoKSA9PiB7XG4gICAgfSB9O1xuICB9XG4gIF9jb252ZXJ0SGludEtpbmQoa2luZCkge1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSBcIlBhcmFtZXRlclwiOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLklubGF5SGludEtpbmQuUGFyYW1ldGVyO1xuICAgICAgY2FzZSBcIlR5cGVcIjpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5JbmxheUhpbnRLaW5kLlR5cGU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLklubGF5SGludEtpbmQuVHlwZTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIHNyYy9sYW5ndWFnZS90eXBlc2NyaXB0L3RzTW9kZS50c1xudmFyIGphdmFTY3JpcHRXb3JrZXI7XG52YXIgdHlwZVNjcmlwdFdvcmtlcjtcbmZ1bmN0aW9uIHNldHVwVHlwZVNjcmlwdChkZWZhdWx0cykge1xuICB0eXBlU2NyaXB0V29ya2VyID0gc2V0dXBNb2RlKGRlZmF1bHRzLCBcInR5cGVzY3JpcHRcIik7XG59XG5mdW5jdGlvbiBzZXR1cEphdmFTY3JpcHQoZGVmYXVsdHMpIHtcbiAgamF2YVNjcmlwdFdvcmtlciA9IHNldHVwTW9kZShkZWZhdWx0cywgXCJqYXZhc2NyaXB0XCIpO1xufVxuZnVuY3Rpb24gZ2V0SmF2YVNjcmlwdFdvcmtlcigpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoIWphdmFTY3JpcHRXb3JrZXIpIHtcbiAgICAgIHJldHVybiByZWplY3QoXCJKYXZhU2NyaXB0IG5vdCByZWdpc3RlcmVkIVwiKTtcbiAgICB9XG4gICAgcmVzb2x2ZShqYXZhU2NyaXB0V29ya2VyKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRUeXBlU2NyaXB0V29ya2VyKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmICghdHlwZVNjcmlwdFdvcmtlcikge1xuICAgICAgcmV0dXJuIHJlamVjdChcIlR5cGVTY3JpcHQgbm90IHJlZ2lzdGVyZWQhXCIpO1xuICAgIH1cbiAgICByZXNvbHZlKHR5cGVTY3JpcHRXb3JrZXIpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHNldHVwTW9kZShkZWZhdWx0cywgbW9kZUlkKSB7XG4gIGNvbnN0IGRpc3Bvc2FibGVzID0gW107XG4gIGNvbnN0IHByb3ZpZGVycyA9IFtdO1xuICBjb25zdCBjbGllbnQgPSBuZXcgV29ya2VyTWFuYWdlcihtb2RlSWQsIGRlZmF1bHRzKTtcbiAgZGlzcG9zYWJsZXMucHVzaChjbGllbnQpO1xuICBjb25zdCB3b3JrZXIgPSAoLi4udXJpcykgPT4ge1xuICAgIHJldHVybiBjbGllbnQuZ2V0TGFuZ3VhZ2VTZXJ2aWNlV29ya2VyKC4uLnVyaXMpO1xuICB9O1xuICBjb25zdCBsaWJGaWxlcyA9IG5ldyBMaWJGaWxlcyh3b3JrZXIpO1xuICBmdW5jdGlvbiByZWdpc3RlclByb3ZpZGVycygpIHtcbiAgICBjb25zdCB7IG1vZGVDb25maWd1cmF0aW9uIH0gPSBkZWZhdWx0cztcbiAgICBkaXNwb3NlQWxsKHByb3ZpZGVycyk7XG4gICAgaWYgKG1vZGVDb25maWd1cmF0aW9uLmNvbXBsZXRpb25JdGVtcykge1xuICAgICAgcHJvdmlkZXJzLnB1c2goXG4gICAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlckNvbXBsZXRpb25JdGVtUHJvdmlkZXIoXG4gICAgICAgICAgbW9kZUlkLFxuICAgICAgICAgIG5ldyBTdWdnZXN0QWRhcHRlcih3b3JrZXIpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChtb2RlQ29uZmlndXJhdGlvbi5zaWduYXR1cmVIZWxwKSB7XG4gICAgICBwcm92aWRlcnMucHVzaChcbiAgICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyU2lnbmF0dXJlSGVscFByb3ZpZGVyKFxuICAgICAgICAgIG1vZGVJZCxcbiAgICAgICAgICBuZXcgU2lnbmF0dXJlSGVscEFkYXB0ZXIod29ya2VyKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAobW9kZUNvbmZpZ3VyYXRpb24uaG92ZXJzKSB7XG4gICAgICBwcm92aWRlcnMucHVzaChcbiAgICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVySG92ZXJQcm92aWRlcihtb2RlSWQsIG5ldyBRdWlja0luZm9BZGFwdGVyKHdvcmtlcikpXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAobW9kZUNvbmZpZ3VyYXRpb24uZG9jdW1lbnRIaWdobGlnaHRzKSB7XG4gICAgICBwcm92aWRlcnMucHVzaChcbiAgICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyRG9jdW1lbnRIaWdobGlnaHRQcm92aWRlcihcbiAgICAgICAgICBtb2RlSWQsXG4gICAgICAgICAgbmV3IERvY3VtZW50SGlnaGxpZ2h0QWRhcHRlcih3b3JrZXIpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChtb2RlQ29uZmlndXJhdGlvbi5kZWZpbml0aW9ucykge1xuICAgICAgcHJvdmlkZXJzLnB1c2goXG4gICAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlckRlZmluaXRpb25Qcm92aWRlcihcbiAgICAgICAgICBtb2RlSWQsXG4gICAgICAgICAgbmV3IERlZmluaXRpb25BZGFwdGVyKGxpYkZpbGVzLCB3b3JrZXIpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChtb2RlQ29uZmlndXJhdGlvbi5yZWZlcmVuY2VzKSB7XG4gICAgICBwcm92aWRlcnMucHVzaChcbiAgICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyUmVmZXJlbmNlUHJvdmlkZXIoXG4gICAgICAgICAgbW9kZUlkLFxuICAgICAgICAgIG5ldyBSZWZlcmVuY2VBZGFwdGVyKGxpYkZpbGVzLCB3b3JrZXIpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChtb2RlQ29uZmlndXJhdGlvbi5kb2N1bWVudFN5bWJvbHMpIHtcbiAgICAgIHByb3ZpZGVycy5wdXNoKFxuICAgICAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMucmVnaXN0ZXJEb2N1bWVudFN5bWJvbFByb3ZpZGVyKFxuICAgICAgICAgIG1vZGVJZCxcbiAgICAgICAgICBuZXcgT3V0bGluZUFkYXB0ZXIod29ya2VyKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAobW9kZUNvbmZpZ3VyYXRpb24ucmVuYW1lKSB7XG4gICAgICBwcm92aWRlcnMucHVzaChcbiAgICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyUmVuYW1lUHJvdmlkZXIoXG4gICAgICAgICAgbW9kZUlkLFxuICAgICAgICAgIG5ldyBSZW5hbWVBZGFwdGVyKGxpYkZpbGVzLCB3b3JrZXIpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChtb2RlQ29uZmlndXJhdGlvbi5kb2N1bWVudFJhbmdlRm9ybWF0dGluZ0VkaXRzKSB7XG4gICAgICBwcm92aWRlcnMucHVzaChcbiAgICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyRG9jdW1lbnRSYW5nZUZvcm1hdHRpbmdFZGl0UHJvdmlkZXIoXG4gICAgICAgICAgbW9kZUlkLFxuICAgICAgICAgIG5ldyBGb3JtYXRBZGFwdGVyKHdvcmtlcilcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG1vZGVDb25maWd1cmF0aW9uLm9uVHlwZUZvcm1hdHRpbmdFZGl0cykge1xuICAgICAgcHJvdmlkZXJzLnB1c2goXG4gICAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3Rlck9uVHlwZUZvcm1hdHRpbmdFZGl0UHJvdmlkZXIoXG4gICAgICAgICAgbW9kZUlkLFxuICAgICAgICAgIG5ldyBGb3JtYXRPblR5cGVBZGFwdGVyKHdvcmtlcilcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG1vZGVDb25maWd1cmF0aW9uLmNvZGVBY3Rpb25zKSB7XG4gICAgICBwcm92aWRlcnMucHVzaChcbiAgICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyQ29kZUFjdGlvblByb3ZpZGVyKG1vZGVJZCwgbmV3IENvZGVBY3Rpb25BZGFwdG9yKHdvcmtlcikpXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAobW9kZUNvbmZpZ3VyYXRpb24uaW5sYXlIaW50cykge1xuICAgICAgcHJvdmlkZXJzLnB1c2goXG4gICAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlcklubGF5SGludHNQcm92aWRlcihtb2RlSWQsIG5ldyBJbmxheUhpbnRzQWRhcHRlcih3b3JrZXIpKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG1vZGVDb25maWd1cmF0aW9uLmRpYWdub3N0aWNzKSB7XG4gICAgICBwcm92aWRlcnMucHVzaChuZXcgRGlhZ25vc3RpY3NBZGFwdGVyKGxpYkZpbGVzLCBkZWZhdWx0cywgbW9kZUlkLCB3b3JrZXIpKTtcbiAgICB9XG4gIH1cbiAgcmVnaXN0ZXJQcm92aWRlcnMoKTtcbiAgZGlzcG9zYWJsZXMucHVzaChhc0Rpc3Bvc2FibGUocHJvdmlkZXJzKSk7XG4gIHJldHVybiB3b3JrZXI7XG59XG5mdW5jdGlvbiBhc0Rpc3Bvc2FibGUoZGlzcG9zYWJsZXMpIHtcbiAgcmV0dXJuIHsgZGlzcG9zZTogKCkgPT4gZGlzcG9zZUFsbChkaXNwb3NhYmxlcykgfTtcbn1cbmZ1bmN0aW9uIGRpc3Bvc2VBbGwoZGlzcG9zYWJsZXMpIHtcbiAgd2hpbGUgKGRpc3Bvc2FibGVzLmxlbmd0aCkge1xuICAgIGRpc3Bvc2FibGVzLnBvcCgpLmRpc3Bvc2UoKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgQWRhcHRlcixcbiAgQ29kZUFjdGlvbkFkYXB0b3IsXG4gIERlZmluaXRpb25BZGFwdGVyLFxuICBEaWFnbm9zdGljc0FkYXB0ZXIsXG4gIERvY3VtZW50SGlnaGxpZ2h0QWRhcHRlcixcbiAgRm9ybWF0QWRhcHRlcixcbiAgRm9ybWF0SGVscGVyLFxuICBGb3JtYXRPblR5cGVBZGFwdGVyLFxuICBJbmxheUhpbnRzQWRhcHRlcixcbiAgS2luZCxcbiAgTGliRmlsZXMsXG4gIE91dGxpbmVBZGFwdGVyLFxuICBRdWlja0luZm9BZGFwdGVyLFxuICBSZWZlcmVuY2VBZGFwdGVyLFxuICBSZW5hbWVBZGFwdGVyLFxuICBTaWduYXR1cmVIZWxwQWRhcHRlcixcbiAgU3VnZ2VzdEFkYXB0ZXIsXG4gIFdvcmtlck1hbmFnZXIsXG4gIGZsYXR0ZW5EaWFnbm9zdGljTWVzc2FnZVRleHQsXG4gIGdldEphdmFTY3JpcHRXb3JrZXIsXG4gIGdldFR5cGVTY3JpcHRXb3JrZXIsXG4gIHNldHVwSmF2YVNjcmlwdCxcbiAgc2V0dXBUeXBlU2NyaXB0XG59O1xuIl0sIm5hbWVzIjpbInR0UG9saWN5IiwiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2dldE93blByb3BEZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX19nZXRPd25Qcm9wTmFtZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiX19oYXNPd25Qcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJfX2NvcHlQcm9wcyIsInRvIiwiZnJvbSIsImV4Y2VwdCIsImRlc2MiLCJrZXkiLCJjYWxsIiwiZ2V0IiwiZW51bWVyYWJsZSIsIm1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzIiwic2VsZiIsImNvbnN0cnVjdG9yIiwibmFtZSIsImdsb2JhbFRoaXMiLCJ3b3JrZXJ0dFBvbGljeSIsInBvbGljeU5hbWUiLCJwb2xpY3lPcHRpb25zIiwibW9uYWNvRW52aXJvbm1lbnQiLCJNb25hY29FbnZpcm9ubWVudCIsImNyZWF0ZVRydXN0ZWRUeXBlc1BvbGljeSIsImVyciIsInRydXN0ZWRUeXBlcyIsImNyZWF0ZVBvbGljeSIsImNyZWF0ZVNjcmlwdFVSTCIsInZhbHVlIiwiV29ya2VyTWFuYWdlciIsIl9tb2RlSWQiLCJfZGVmYXVsdHMiLCJ0aGlzIiwiX3dvcmtlciIsIl9jbGllbnQiLCJfY29uZmlnQ2hhbmdlTGlzdGVuZXIiLCJvbkRpZENoYW5nZSIsIl9zdG9wV29ya2VyIiwiX3VwZGF0ZUV4dHJhTGlic1Rva2VuIiwiX2V4dHJhTGlic0NoYW5nZUxpc3RlbmVyIiwib25EaWRFeHRyYUxpYnNDaGFuZ2UiLCJfdXBkYXRlRXh0cmFMaWJzIiwiZGlzcG9zZSIsIm15VG9rZW4iLCJwcm94eSIsImdldFByb3h5IiwidXBkYXRlRXh0cmFMaWJzIiwiZ2V0RXh0cmFMaWJzIiwiX2dldENsaWVudCIsIm9wdHMiLCJ3b3JrZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRlc2NyaXB0b3IiLCJsYWJlbCIsImdldFdvcmtlciIsImdldFdvcmtlclVybCIsIndvcmtlclVybCIsIldvcmtlciIsInR5cGUiLCJFcnJvciIsIm1vZHVsZUlkIiwidGhlbiIsInciLCJwb3N0TWVzc2FnZSIsImNyZWF0ZURhdGEiLCJlZGl0b3IiLCJjcmVhdGVXZWJXb3JrZXIiLCJob3N0Iiwia2VlcElkbGVNb2RlbHMiLCJjb21waWxlck9wdGlvbnMiLCJnZXRDb21waWxlck9wdGlvbnMiLCJleHRyYUxpYnMiLCJjdXN0b21Xb3JrZXJQYXRoIiwid29ya2VyT3B0aW9ucyIsImlubGF5SGludHNPcHRpb25zIiwiZ2V0RWFnZXJNb2RlbFN5bmMiLCJ3aXRoU3luY2VkUmVzb3VyY2VzIiwiZ2V0TW9kZWxzIiwiZmlsdGVyIiwibW9kZWwiLCJnZXRMYW5ndWFnZUlkIiwibWFwIiwidXJpIiwiZ2V0TGFuZ3VhZ2VTZXJ2aWNlV29ya2VyIiwicmVzb3VyY2VzIiwiY2xpZW50IiwibGliRmlsZVNldCIsImZsYXR0ZW5EaWFnbm9zdGljTWVzc2FnZVRleHQiLCJkaWFnIiwibmV3TGluZSIsImluZGVudCIsInJlc3VsdCIsImkiLCJtZXNzYWdlVGV4dCIsIm5leHQiLCJraWQiLCJkaXNwbGF5UGFydHNUb1N0cmluZyIsImRpc3BsYXlQYXJ0cyIsImRpc3BsYXlQYXJ0IiwidGV4dCIsImpvaW4iLCJBZGFwdGVyIiwiX3RleHRTcGFuVG9SYW5nZSIsInNwYW4iLCJwMSIsImdldFBvc2l0aW9uQXQiLCJzdGFydCIsInAyIiwibGVuZ3RoIiwibGluZU51bWJlciIsInN0YXJ0TGluZU51bWJlciIsImNvbHVtbiIsInN0YXJ0Q29sdW1uIiwiZW5kTGluZU51bWJlciIsImVuZENvbHVtbiIsIkxpYkZpbGVzIiwiX2xpYkZpbGVzIiwiX2hhc0ZldGNoZWRMaWJGaWxlcyIsIl9mZXRjaExpYkZpbGVzUHJvbWlzZSIsImlzTGliRmlsZSIsInBhdGgiLCJpbmRleE9mIiwic2xpY2UiLCJnZXRPckNyZWF0ZU1vZGVsIiwiZmlsZU5hbWUiLCJVcmkiLCJwYXJzZSIsImdldE1vZGVsIiwiY3JlYXRlTW9kZWwiLCJtYXRjaGVkTGliRmlsZSIsImNvbnRlbnQiLCJfY29udGFpbnNMaWJGaWxlIiwidXJpcyIsImZldGNoTGliRmlsZXNJZk5lY2Vzc2FyeSIsIl9mZXRjaExpYkZpbGVzIiwiZ2V0TGliRmlsZXMiLCJsaWJGaWxlcyIsIkRpYWdub3N0aWNzQWRhcHRlciIsIl9zZWxlY3RvciIsInN1cGVyIiwiX2Rpc3Bvc2FibGVzIiwiX2xpc3RlbmVyIiwiY3JlYXRlIiwib25Nb2RlbEFkZCIsIm1heWJlVmFsaWRhdGUiLCJvbmx5VmlzaWJsZSIsImdldERpYWdub3N0aWNzT3B0aW9ucyIsImlzQXR0YWNoZWRUb0VkaXRvciIsIl9kb1ZhbGlkYXRlIiwiaGFuZGxlIiwiY2hhbmdlU3Vic2NyaXB0aW9uIiwib25EaWRDaGFuZ2VDb250ZW50IiwiY2xlYXJUaW1lb3V0Iiwid2luZG93Iiwic2V0VGltZW91dCIsInZpc2libGVTdWJzY3JpcHRpb24iLCJvbkRpZENoYW5nZUF0dGFjaGVkIiwic2V0TW9kZWxNYXJrZXJzIiwidG9TdHJpbmciLCJvbk1vZGVsUmVtb3ZlZCIsInB1c2giLCJvbkRpZENyZWF0ZU1vZGVsIiwib25XaWxsRGlzcG9zZU1vZGVsIiwib25EaWRDaGFuZ2VNb2RlbExhbmd1YWdlIiwiZXZlbnQiLCJyZWNvbXB1dGVEaWFnb3N0aWNzIiwiZm9yRWFjaCIsImQiLCJpc0Rpc3Bvc2VkIiwicHJvbWlzZXMiLCJub1N5bnRheFZhbGlkYXRpb24iLCJub1NlbWFudGljVmFsaWRhdGlvbiIsIm5vU3VnZ2VzdGlvbkRpYWdub3N0aWNzIiwiZ2V0U3ludGFjdGljRGlhZ25vc3RpY3MiLCJnZXRTZW1hbnRpY0RpYWdub3N0aWNzIiwiZ2V0U3VnZ2VzdGlvbkRpYWdub3N0aWNzIiwiYWxsRGlhZ25vc3RpY3MiLCJhbGwiLCJkaWFnbm9zdGljcyIsInJlZHVjZSIsInAiLCJjIiwiY29uY2F0IiwiZGlhZ25vc3RpY0NvZGVzVG9JZ25vcmUiLCJjb2RlIiwicmVsYXRlZFVyaXMiLCJyZWxhdGVkSW5mb3JtYXRpb24iLCJmaWxlIiwiX2NvbnZlcnREaWFnbm9zdGljcyIsImRpYWdTdGFydCIsImRpYWdMZW5ndGgiLCJ0YWdzIiwicmVwb3J0c1VubmVjZXNzYXJ5IiwiTWFya2VyVGFnIiwiVW5uZWNlc3NhcnkiLCJyZXBvcnRzRGVwcmVjYXRlZCIsIkRlcHJlY2F0ZWQiLCJzZXZlcml0eSIsIl90c0RpYWdub3N0aWNDYXRlZ29yeVRvTWFya2VyU2V2ZXJpdHkiLCJjYXRlZ29yeSIsIm1lc3NhZ2UiLCJfY29udmVydFJlbGF0ZWRJbmZvcm1hdGlvbiIsImluZm8iLCJyZWxhdGVkUmVzb3VyY2UiLCJpbmZvU3RhcnQiLCJpbmZvTGVuZ3RoIiwicmVzb3VyY2UiLCJNYXJrZXJTZXZlcml0eSIsIkluZm8iLCJXYXJuaW5nIiwiSGludCIsIlN1Z2dlc3RBZGFwdGVyIiwiX1N1Z2dlc3RBZGFwdGVyIiwidHJpZ2dlckNoYXJhY3RlcnMiLCJwcm92aWRlQ29tcGxldGlvbkl0ZW1zIiwicG9zaXRpb24iLCJfY29udGV4dCIsInRva2VuIiwid29yZEluZm8iLCJnZXRXb3JkVW50aWxQb3NpdGlvbiIsIndvcmRSYW5nZSIsIlJhbmdlIiwib2Zmc2V0IiwiZ2V0T2Zmc2V0QXQiLCJnZXRDb21wbGV0aW9uc0F0UG9zaXRpb24iLCJzdWdnZXN0aW9ucyIsImVudHJpZXMiLCJlbnRyeSIsInJhbmdlIiwicmVwbGFjZW1lbnRTcGFuIiwia2luZE1vZGlmaWVycyIsImxhbmd1YWdlcyIsIkNvbXBsZXRpb25JdGVtVGFnIiwiaW5zZXJ0VGV4dCIsInNvcnRUZXh0Iiwia2luZCIsImNvbnZlcnRLaW5kIiwicmVzb2x2ZUNvbXBsZXRpb25JdGVtIiwiaXRlbSIsIm15SXRlbSIsImRldGFpbHMiLCJnZXRDb21wbGV0aW9uRW50cnlEZXRhaWxzIiwiZGV0YWlsIiwiZG9jdW1lbnRhdGlvbiIsImNyZWF0ZURvY3VtZW50YXRpb25TdHJpbmciLCJLaW5kIiwicHJpbWl0aXZlVHlwZSIsImtleXdvcmQiLCJDb21wbGV0aW9uSXRlbUtpbmQiLCJLZXl3b3JkIiwidmFyaWFibGUiLCJsb2NhbFZhcmlhYmxlIiwiVmFyaWFibGUiLCJtZW1iZXJWYXJpYWJsZSIsIm1lbWJlckdldEFjY2Vzc29yIiwibWVtYmVyU2V0QWNjZXNzb3IiLCJGaWVsZCIsImZ1bmN0aW9uIiwibWVtYmVyRnVuY3Rpb24iLCJjb25zdHJ1Y3RTaWduYXR1cmUiLCJjYWxsU2lnbmF0dXJlIiwiaW5kZXhTaWduYXR1cmUiLCJGdW5jdGlvbiIsImVudW0iLCJFbnVtIiwibW9kdWxlIiwiTW9kdWxlIiwiY2xhc3MiLCJDbGFzcyIsImludGVyZmFjZSIsIkludGVyZmFjZSIsIndhcm5pbmciLCJGaWxlIiwiUHJvcGVydHkiLCJkb2N1bWVudGF0aW9uU3RyaW5nIiwidGFnIiwidGFnVG9TdHJpbmciLCJ0YWdMYWJlbCIsInBhcmFtTmFtZSIsInJlc3QiLCJyIiwiQXJyYXkiLCJpc0FycmF5IiwiU2lnbmF0dXJlSGVscEFkYXB0ZXIiLCJfU2lnbmF0dXJlSGVscEFkYXB0ZXIiLCJhcmd1bWVudHMiLCJzaWduYXR1cmVIZWxwVHJpZ2dlckNoYXJhY3RlcnMiLCJfdG9TaWduYXR1cmVIZWxwVHJpZ2dlclJlYXNvbiIsImNvbnRleHQiLCJ0cmlnZ2VyS2luZCIsIlNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZCIsIlRyaWdnZXJDaGFyYWN0ZXIiLCJ0cmlnZ2VyQ2hhcmFjdGVyIiwiaXNSZXRyaWdnZXIiLCJDb250ZW50Q2hhbmdlIiwiSW52b2tlIiwicHJvdmlkZVNpZ25hdHVyZUhlbHAiLCJnZXRTaWduYXR1cmVIZWxwSXRlbXMiLCJ0cmlnZ2VyUmVhc29uIiwicmV0IiwiYWN0aXZlU2lnbmF0dXJlIiwic2VsZWN0ZWRJdGVtSW5kZXgiLCJhY3RpdmVQYXJhbWV0ZXIiLCJhcmd1bWVudEluZGV4Iiwic2lnbmF0dXJlcyIsIml0ZW1zIiwic2lnbmF0dXJlIiwicGFyYW1ldGVycyIsInByZWZpeERpc3BsYXlQYXJ0cyIsImEiLCJwYXJhbWV0ZXIiLCJzZXBhcmF0b3JEaXNwbGF5UGFydHMiLCJzdWZmaXhEaXNwbGF5UGFydHMiLCJRdWlja0luZm9BZGFwdGVyIiwicHJvdmlkZUhvdmVyIiwiZ2V0UXVpY2tJbmZvQXRQb3NpdGlvbiIsImNvbnRlbnRzIiwidGV4dFNwYW4iLCJEb2N1bWVudEhpZ2hsaWdodEFkYXB0ZXIiLCJwcm92aWRlRG9jdW1lbnRIaWdobGlnaHRzIiwiZ2V0RG9jdW1lbnRIaWdobGlnaHRzIiwiZmxhdE1hcCIsImhpZ2hsaWdodFNwYW5zIiwiRG9jdW1lbnRIaWdobGlnaHRLaW5kIiwiV3JpdGUiLCJUZXh0IiwiRGVmaW5pdGlvbkFkYXB0ZXIiLCJwcm92aWRlRGVmaW5pdGlvbiIsImdldERlZmluaXRpb25BdFBvc2l0aW9uIiwicmVmTW9kZWwiLCJSZWZlcmVuY2VBZGFwdGVyIiwicHJvdmlkZVJlZmVyZW5jZXMiLCJnZXRSZWZlcmVuY2VzQXRQb3NpdGlvbiIsIk91dGxpbmVBZGFwdGVyIiwicHJvdmlkZURvY3VtZW50U3ltYm9scyIsInJvb3QiLCJnZXROYXZpZ2F0aW9uVHJlZSIsImNvbnZlcnQiLCJjb250YWluZXJMYWJlbCIsIm91dGxpbmVUeXBlVGFibGUiLCJTeW1ib2xLaW5kIiwic3BhbnMiLCJzZWxlY3Rpb25SYW5nZSIsImNoaWxkcmVuIiwiY2hpbGRJdGVtcyIsImNoaWxkIiwiY29udGFpbmVyTmFtZSIsInVua25vd24iLCJzY3JpcHQiLCJsb2NhbEZ1bmN0aW9uIiwiY29uc3RydWN0b3JJbXBsZW1lbnRhdGlvbiIsInR5cGVQYXJhbWV0ZXIiLCJhbGlhcyIsImNvbnN0IiwibGV0IiwiTWV0aG9kIiwiamF2YVNjcmlwdFdvcmtlciIsInR5cGVTY3JpcHRXb3JrZXIiLCJGb3JtYXRIZWxwZXIiLCJfY29udmVydE9wdGlvbnMiLCJvcHRpb25zIiwiQ29udmVydFRhYnNUb1NwYWNlcyIsImluc2VydFNwYWNlcyIsIlRhYlNpemUiLCJ0YWJTaXplIiwiSW5kZW50U2l6ZSIsIkluZGVudFN0eWxlIiwiTmV3TGluZUNoYXJhY3RlciIsIkluc2VydFNwYWNlQWZ0ZXJDb21tYURlbGltaXRlciIsIkluc2VydFNwYWNlQWZ0ZXJTZW1pY29sb25JbkZvclN0YXRlbWVudHMiLCJJbnNlcnRTcGFjZUJlZm9yZUFuZEFmdGVyQmluYXJ5T3BlcmF0b3JzIiwiSW5zZXJ0U3BhY2VBZnRlcktleXdvcmRzSW5Db250cm9sRmxvd1N0YXRlbWVudHMiLCJJbnNlcnRTcGFjZUFmdGVyRnVuY3Rpb25LZXl3b3JkRm9yQW5vbnltb3VzRnVuY3Rpb25zIiwiSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nTm9uZW1wdHlQYXJlbnRoZXNpcyIsIkluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5QnJhY2tldHMiLCJJbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdUZW1wbGF0ZVN0cmluZ0JyYWNlcyIsIlBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yQ29udHJvbEJsb2NrcyIsIlBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yRnVuY3Rpb25zIiwiX2NvbnZlcnRUZXh0Q2hhbmdlcyIsImNoYW5nZSIsIm5ld1RleHQiLCJGb3JtYXRBZGFwdGVyIiwiY2FuRm9ybWF0TXVsdGlwbGVSYW5nZXMiLCJwcm92aWRlRG9jdW1lbnRSYW5nZUZvcm1hdHRpbmdFZGl0cyIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwiZWRpdHMiLCJnZXRGb3JtYXR0aW5nRWRpdHNGb3JSYW5nZSIsImVkaXQiLCJGb3JtYXRPblR5cGVBZGFwdGVyIiwiYXV0b0Zvcm1hdFRyaWdnZXJDaGFyYWN0ZXJzIiwicHJvdmlkZU9uVHlwZUZvcm1hdHRpbmdFZGl0cyIsImNoIiwiZ2V0Rm9ybWF0dGluZ0VkaXRzQWZ0ZXJLZXlzdHJva2UiLCJDb2RlQWN0aW9uQWRhcHRvciIsInByb3ZpZGVDb2RlQWN0aW9ucyIsImVuZCIsImZvcm1hdE9wdGlvbnMiLCJnZXRPcHRpb25zIiwiZXJyb3JDb2RlcyIsIm1hcmtlcnMiLCJtIiwiTnVtYmVyIiwiY29kZUZpeGVzIiwiZ2V0Q29kZUZpeGVzQXRQb3NpdGlvbiIsImFjdGlvbnMiLCJmaXgiLCJjaGFuZ2VzIiwiaXNOZXdGaWxlIiwiX3RzQ29kZUZpeEFjdGlvblRvTW9uYWNvQ29kZUFjdGlvbiIsImNvZGVGaXgiLCJ0ZXh0Q2hhbmdlIiwidGV4dENoYW5nZXMiLCJ2ZXJzaW9uSWQiLCJ0ZXh0RWRpdCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJSZW5hbWVBZGFwdGVyIiwicHJvdmlkZVJlbmFtZUVkaXRzIiwibmV3TmFtZSIsInJlbmFtZUluZm8iLCJnZXRSZW5hbWVJbmZvIiwiYWxsb3dSZW5hbWVPZkltcG9ydFBhdGgiLCJjYW5SZW5hbWUiLCJyZWplY3RSZWFzb24iLCJsb2NhbGl6ZWRFcnJvck1lc3NhZ2UiLCJmaWxlVG9SZW5hbWUiLCJyZW5hbWVMb2NhdGlvbnMiLCJmaW5kUmVuYW1lTG9jYXRpb25zIiwicmVuYW1lTG9jYXRpb24iLCJtb2RlbDIiLCJJbmxheUhpbnRzQWRhcHRlciIsInByb3ZpZGVJbmxheUhpbnRzIiwiaGludHMiLCJoaW50IiwiX2NvbnZlcnRIaW50S2luZCIsIklubGF5SGludEtpbmQiLCJQYXJhbWV0ZXIiLCJUeXBlIiwic2V0dXBUeXBlU2NyaXB0IiwiZGVmYXVsdHMiLCJzZXR1cE1vZGUiLCJzZXR1cEphdmFTY3JpcHQiLCJnZXRKYXZhU2NyaXB0V29ya2VyIiwicmVqZWN0IiwiZ2V0VHlwZVNjcmlwdFdvcmtlciIsIm1vZGVJZCIsImRpc3Bvc2FibGVzIiwicHJvdmlkZXJzIiwibW9kZUNvbmZpZ3VyYXRpb24iLCJkaXNwb3NlQWxsIiwiY29tcGxldGlvbkl0ZW1zIiwicmVnaXN0ZXJDb21wbGV0aW9uSXRlbVByb3ZpZGVyIiwic2lnbmF0dXJlSGVscCIsInJlZ2lzdGVyU2lnbmF0dXJlSGVscFByb3ZpZGVyIiwiaG92ZXJzIiwicmVnaXN0ZXJIb3ZlclByb3ZpZGVyIiwiZG9jdW1lbnRIaWdobGlnaHRzIiwicmVnaXN0ZXJEb2N1bWVudEhpZ2hsaWdodFByb3ZpZGVyIiwiZGVmaW5pdGlvbnMiLCJyZWdpc3RlckRlZmluaXRpb25Qcm92aWRlciIsInJlZmVyZW5jZXMiLCJyZWdpc3RlclJlZmVyZW5jZVByb3ZpZGVyIiwiZG9jdW1lbnRTeW1ib2xzIiwicmVnaXN0ZXJEb2N1bWVudFN5bWJvbFByb3ZpZGVyIiwicmVuYW1lIiwicmVnaXN0ZXJSZW5hbWVQcm92aWRlciIsImRvY3VtZW50UmFuZ2VGb3JtYXR0aW5nRWRpdHMiLCJyZWdpc3RlckRvY3VtZW50UmFuZ2VGb3JtYXR0aW5nRWRpdFByb3ZpZGVyIiwib25UeXBlRm9ybWF0dGluZ0VkaXRzIiwicmVnaXN0ZXJPblR5cGVGb3JtYXR0aW5nRWRpdFByb3ZpZGVyIiwiY29kZUFjdGlvbnMiLCJyZWdpc3RlckNvZGVBY3Rpb25Qcm92aWRlciIsImlubGF5SGludHMiLCJyZWdpc3RlcklubGF5SGludHNQcm92aWRlciIsInJlZ2lzdGVyUHJvdmlkZXJzIiwiYXNEaXNwb3NhYmxlIiwicG9wIl0sInNvdXJjZVJvb3QiOiIifQ==